/* main-window.c generated by valac 0.28.0, the Vala compiler
 * generated from main-window.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include <vte/vte.h>
#include <gio/gio.h>
#include <glib/gi18n-lib.h>
#include <glib/gstdio.h>
#include <stdio.h>
#include <gtksourceview/gtksource.h>
#include <gdk/gdk.h>


#define TYPE_MAIN_WINDOW (main_window_get_type ())
#define MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MAIN_WINDOW, MainWindow))
#define MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_MAIN_WINDOW, MainWindowClass))
#define IS_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MAIN_WINDOW))
#define IS_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_MAIN_WINDOW))
#define MAIN_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_MAIN_WINDOW, MainWindowClass))

typedef struct _MainWindow MainWindow;
typedef struct _MainWindowClass MainWindowClass;
typedef struct _MainWindowPrivate MainWindowPrivate;

#define TYPE_TEXT_EDITOR (text_editor_get_type ())
#define TEXT_EDITOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_TEXT_EDITOR, TextEditor))
#define TEXT_EDITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_TEXT_EDITOR, TextEditorClass))
#define IS_TEXT_EDITOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_TEXT_EDITOR))
#define IS_TEXT_EDITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_TEXT_EDITOR))
#define TEXT_EDITOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_TEXT_EDITOR, TextEditorClass))

typedef struct _TextEditor TextEditor;
typedef struct _TextEditorClass TextEditorClass;

#define TYPE_SIMPLE_HEADER_BAR (simple_header_bar_get_type ())
#define SIMPLE_HEADER_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SIMPLE_HEADER_BAR, SimpleHeaderBar))
#define SIMPLE_HEADER_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SIMPLE_HEADER_BAR, SimpleHeaderBarClass))
#define IS_SIMPLE_HEADER_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SIMPLE_HEADER_BAR))
#define IS_SIMPLE_HEADER_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SIMPLE_HEADER_BAR))
#define SIMPLE_HEADER_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SIMPLE_HEADER_BAR, SimpleHeaderBarClass))

typedef struct _SimpleHeaderBar SimpleHeaderBar;
typedef struct _SimpleHeaderBarClass SimpleHeaderBarClass;

#define TYPE_SIMPLE_STATUSBAR (simple_statusbar_get_type ())
#define SIMPLE_STATUSBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SIMPLE_STATUSBAR, SimpleStatusbar))
#define SIMPLE_STATUSBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SIMPLE_STATUSBAR, SimpleStatusbarClass))
#define IS_SIMPLE_STATUSBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SIMPLE_STATUSBAR))
#define IS_SIMPLE_STATUSBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SIMPLE_STATUSBAR))
#define SIMPLE_STATUSBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SIMPLE_STATUSBAR, SimpleStatusbarClass))

typedef struct _SimpleStatusbar SimpleStatusbar;
typedef struct _SimpleStatusbarClass SimpleStatusbarClass;

#define TYPE_SIMPLE_TAB_BAR (simple_tab_bar_get_type ())
#define SIMPLE_TAB_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SIMPLE_TAB_BAR, SimpleTabBar))
#define SIMPLE_TAB_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SIMPLE_TAB_BAR, SimpleTabBarClass))
#define IS_SIMPLE_TAB_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SIMPLE_TAB_BAR))
#define IS_SIMPLE_TAB_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SIMPLE_TAB_BAR))
#define SIMPLE_TAB_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SIMPLE_TAB_BAR, SimpleTabBarClass))

typedef struct _SimpleTabBar SimpleTabBar;
typedef struct _SimpleTabBarClass SimpleTabBarClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_array_unref0(var) ((var == NULL) ? NULL : (var = (g_array_unref (var), NULL)))
#define __g_list_free__g_free0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_free0_ (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
typedef struct _Block1Data Block1Data;

#define TYPE_SIMPLE_TAB (simple_tab_get_type ())
#define SIMPLE_TAB(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SIMPLE_TAB, SimpleTab))
#define SIMPLE_TAB_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SIMPLE_TAB, SimpleTabClass))
#define IS_SIMPLE_TAB(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SIMPLE_TAB))
#define IS_SIMPLE_TAB_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SIMPLE_TAB))
#define SIMPLE_TAB_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SIMPLE_TAB, SimpleTabClass))

typedef struct _SimpleTab SimpleTab;
typedef struct _SimpleTabClass SimpleTabClass;

#define TYPE_FILE_OPEARTION (file_opeartion_get_type ())

#define TYPE_PROGRAMMING_LANGUAGES (programming_languages_get_type ())
#define PROGRAMMING_LANGUAGES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_PROGRAMMING_LANGUAGES, ProgrammingLanguages))
#define PROGRAMMING_LANGUAGES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_PROGRAMMING_LANGUAGES, ProgrammingLanguagesClass))
#define IS_PROGRAMMING_LANGUAGES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_PROGRAMMING_LANGUAGES))
#define IS_PROGRAMMING_LANGUAGES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_PROGRAMMING_LANGUAGES))
#define PROGRAMMING_LANGUAGES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_PROGRAMMING_LANGUAGES, ProgrammingLanguagesClass))

typedef struct _ProgrammingLanguages ProgrammingLanguages;
typedef struct _ProgrammingLanguagesClass ProgrammingLanguagesClass;

#define TYPE_SIMPLE_SOURCE_VIEW (simple_source_view_get_type ())
#define SIMPLE_SOURCE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SIMPLE_SOURCE_VIEW, SimpleSourceView))
#define SIMPLE_SOURCE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SIMPLE_SOURCE_VIEW, SimpleSourceViewClass))
#define IS_SIMPLE_SOURCE_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SIMPLE_SOURCE_VIEW))
#define IS_SIMPLE_SOURCE_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SIMPLE_SOURCE_VIEW))
#define SIMPLE_SOURCE_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SIMPLE_SOURCE_VIEW, SimpleSourceViewClass))

typedef struct _SimpleSourceView SimpleSourceView;
typedef struct _SimpleSourceViewClass SimpleSourceViewClass;
#define _programming_languages_unref0(var) ((var == NULL) ? NULL : (var = (programming_languages_unref (var), NULL)))
#define __g_slist_free__g_free0_0(var) ((var == NULL) ? NULL : (var = (_g_slist_free__g_free0_ (var), NULL)))
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))

#define TYPE_CONFIRM_EXIT (confirm_exit_get_type ())
#define CONFIRM_EXIT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_CONFIRM_EXIT, ConfirmExit))
#define CONFIRM_EXIT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_CONFIRM_EXIT, ConfirmExitClass))
#define IS_CONFIRM_EXIT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_CONFIRM_EXIT))
#define IS_CONFIRM_EXIT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_CONFIRM_EXIT))
#define CONFIRM_EXIT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_CONFIRM_EXIT, ConfirmExitClass))

typedef struct _ConfirmExit ConfirmExit;
typedef struct _ConfirmExitClass ConfirmExitClass;

struct _MainWindow {
	GtkApplicationWindow parent_instance;
	MainWindowPrivate * priv;
};

struct _MainWindowClass {
	GtkApplicationWindowClass parent_class;
};

struct _MainWindowPrivate {
	TextEditor* _editor;
	gchar* untitled;
	GArray* closed_files;
	GList* opened_files;
	gint counter;
	SimpleHeaderBar* headerbar;
	SimpleStatusbar* status;
	VteTerminal* terminal;
	SimpleTabBar* tab_bar;
	GtkStack* documents;
	GtkSearchEntry* search_entry;
	GtkSearchBar* search_bar;
	GtkButton* previous_search;
	GtkButton* next_search;
	GFile** _arg_files;
	gint _arg_files_length1;
	gint __arg_files_size_;
};

struct _Block1Data {
	int _ref_count_;
	MainWindow* self;
	gchar* workspace;
};

typedef enum  {
	FILE_OPEARTION_NULL_OPERATION,
	FILE_OPEARTION_NEW_FILE,
	FILE_OPEARTION_OPEN_FILE,
	FILE_OPEARTION_EDIT_FILE,
	FILE_OPEARTION_SAVE_FILE,
	FILE_OPEARTION_CLOSE_FILE,
	FILE_OPEARTION_BUILD_FILE,
	FILE_OPEARTION_BUILD_DONE,
	FILE_OPEARTION_BUILD_FAIL
} FileOpeartion;


static gpointer main_window_parent_class = NULL;

GType main_window_get_type (void) G_GNUC_CONST;
GType text_editor_get_type (void) G_GNUC_CONST;
GType simple_header_bar_get_type (void) G_GNUC_CONST;
GType simple_statusbar_get_type (void) G_GNUC_CONST;
GType simple_tab_bar_get_type (void) G_GNUC_CONST;
#define MAIN_WINDOW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TYPE_MAIN_WINDOW, MainWindowPrivate))
enum  {
	MAIN_WINDOW_DUMMY_PROPERTY,
	MAIN_WINDOW_EDITOR
};
static void _g_free0_ (gpointer var);
static void _g_list_free__g_free0_ (GList* self);
static void main_window_load_workspace (MainWindow* self);
void main_window_new_tab_cb (MainWindow* self);
static void main_window_add_new_tab_from_file (MainWindow* self, const gchar* file_name);
static void main_window_save_workspace (MainWindow* self);
static Block1Data* block1_data_ref (Block1Data* _data1_);
static void block1_data_unref (void * _userdata_);
static void __lambda22_ (Block1Data* _data1_, const gchar* entry);
static void ___lambda22__gfunc (gconstpointer data, gpointer self);
MainWindow* main_window_new (GtkApplication* app, TextEditor* editor);
MainWindow* main_window_construct (GType object_type, GtkApplication* app, TextEditor* editor);
static void __lambda23_ (MainWindow* self, GParamSpec* pspec);
gboolean text_editor_get_prefer_dark (TextEditor* self);
static void ___lambda23__g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self);
static void main_window_create_widgets (MainWindow* self);
SimpleHeaderBar* simple_header_bar_new (MainWindow* parent);
SimpleHeaderBar* simple_header_bar_construct (GType object_type, MainWindow* parent);
static void main_window_re_open_cb (MainWindow* self);
static void _main_window_re_open_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void main_window_save_as_cb (MainWindow* self);
static void _main_window_save_as_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void main_window_next_tab_cb (MainWindow* self);
static void _main_window_next_tab_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void main_window_prev_tab_cb (MainWindow* self);
static void _main_window_prev_tab_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void main_window_close_tab_cb (MainWindow* self);
static void _main_window_close_tab_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void main_window_set_syntax_cb (MainWindow* self);
static void _main_window_set_syntax_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void main_window_on_show_terminal (MainWindow* self);
static void _main_window_on_show_terminal_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void main_window_search_mode_cb (MainWindow* self);
static void _main_window_search_mode_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void main_window_quit_cb (MainWindow* self);
static void _main_window_quit_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self);
static void main_window_search_stuff_next (MainWindow* self);
static void _main_window_search_stuff_next_gtk_search_entry_search_changed (GtkSearchEntry* _sender, gpointer self);
static void _main_window_search_stuff_next_gtk_entry_activate (GtkEntry* _sender, gpointer self);
static void _main_window_search_stuff_next_gtk_button_clicked (GtkButton* _sender, gpointer self);
static void main_window_search_stuff_prev (MainWindow* self);
static void _main_window_search_stuff_prev_gtk_button_clicked (GtkButton* _sender, gpointer self);
SimpleTabBar* simple_tab_bar_new (void);
SimpleTabBar* simple_tab_bar_construct (GType object_type);
void simple_tab_bar_set_stack (SimpleTabBar* self, GtkStack* stack);
GType simple_tab_get_type (void) G_GNUC_CONST;
static void main_window_on_page_switched (MainWindow* self, SimpleTab* tab);
static void _main_window_on_page_switched_simple_tab_bar_page_switched (SimpleTabBar* _sender, SimpleTab* tab, gpointer self);
static void main_window_on_page_close (MainWindow* self, SimpleTab* tab, gint page_num);
static void _main_window_on_page_close_simple_tab_bar_page_closed (SimpleTabBar* _sender, SimpleTab* tab, gint page_num, gpointer self);
SimpleStatusbar* simple_statusbar_new (MainWindow* parent);
SimpleStatusbar* simple_statusbar_construct (GType object_type, MainWindow* parent);
static void main_window_change_syntax_cb (MainWindow* self, const gchar* language);
static void _main_window_change_syntax_cb_simple_statusbar_change_syntax_request (SimpleStatusbar* _sender, const gchar* language, gpointer self);
gint simple_tab_bar_get_page_num (SimpleTabBar* self, SimpleTab* tab);
GType file_opeartion_get_type (void) G_GNUC_CONST;
void simple_statusbar_refresh_statusbar (SimpleStatusbar* self, FileOpeartion operation, const gchar* file_name);
void simple_statusbar_refresh_language (SimpleStatusbar* self, const gchar* file_name);
SimpleTab* simple_tab_bar_get_current_page (SimpleTabBar* self, GtkWidget* current_doc);
gpointer programming_languages_ref (gpointer instance);
void programming_languages_unref (gpointer instance);
GParamSpec* param_spec_programming_languages (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_programming_languages (GValue* value, gpointer v_object);
void value_take_programming_languages (GValue* value, gpointer v_object);
gpointer value_get_programming_languages (const GValue* value);
GType programming_languages_get_type (void) G_GNUC_CONST;
ProgrammingLanguages* programming_languages_new (void);
ProgrammingLanguages* programming_languages_construct (GType object_type);
gchar* programming_languages_get_lang_id_from_name (ProgrammingLanguages* self, const gchar* language);
GType simple_source_view_get_type (void) G_GNUC_CONST;
SimpleSourceView* simple_tab_get_text_view (SimpleTab* self);
void simple_source_view_change_language (SimpleSourceView* self, const gchar* language);
void simple_statusbar_toggle_picker (SimpleStatusbar* self);
void main_window_open_file_cb (MainWindow* self);
static void ___lambda19_ (MainWindow* self, const gchar* entry);
static void ____lambda19__gfunc (gconstpointer data, gpointer self);
static void _g_slist_free__g_free0_ (GSList* self);
static gboolean main_window_file_is_opened (MainWindow* self, const gchar* needle);
static void main_window_check_pages (MainWindow* self);
TextEditor* main_window_get_editor (MainWindow* self);
SimpleTab* simple_tab_new_from_file (TextEditor* editor, const gchar* base_name, const gchar* file_path);
SimpleTab* simple_tab_construct_from_file (GType object_type, TextEditor* editor, const gchar* base_name, const gchar* file_path);
static void _main_window_add_new_tab_from_file_simple_tab_view_drag_n_drop (SimpleTab* _sender, const gchar* file_name, gpointer self);
static void main_window_add_new_tab (MainWindow* self, SimpleTab* tab_label);
void main_window_save_tab_to_file (MainWindow* self);
gchar* programming_languages_get_lang_ext (ProgrammingLanguages* self, const gchar* lang_name);
GtkLabel* simple_statusbar_get_label (SimpleStatusbar* self);
void simple_tab_set_tab_title (SimpleTab* self, const gchar* value);
static void main_window_save_file (MainWindow* self, GtkSourceView* view, const gchar* filename);
void simple_tab_mark_title (SimpleTab* self);
static void main_window_reset_changes (MainWindow* self, SimpleTab* tab_label);
const gchar* simple_tab_get_tab_title (SimpleTab* self);
SimpleTab* simple_tab_new (TextEditor* editor);
SimpleTab* simple_tab_construct (GType object_type, TextEditor* editor);
void main_window_build_code (MainWindow* self);
gboolean programming_languages_is_buildable (ProgrammingLanguages* self, const gchar* filename);
void simple_header_bar_set_buildable (SimpleHeaderBar* self, gboolean value);
static gboolean main_window_confirm_close (MainWindow* self, SimpleTab* tab);
void simple_tab_bar_close_page (SimpleTabBar* self, SimpleTab* tab);
void simple_tab_bar_switch_page_next (SimpleTabBar* self, SimpleTab* current_tab);
GtkScrolledWindow* simple_tab_get_tab_widget (SimpleTab* self);
static gboolean main_window_changes_done (MainWindow* self, GdkEventKey* event);
void simple_tab_bar_add_page (SimpleTabBar* self, SimpleTab* tab, gboolean new_page);
static gboolean _main_window_changes_done_gtk_widget_key_release_event (GtkWidget* _sender, GdkEventKey* event, gpointer self);
void simple_tab_bar_switch_page_prev (SimpleTabBar* self, SimpleTab* current_tab);
void simple_tab_bar_switch_page (SimpleTabBar* self, SimpleTab* tab);
GType confirm_exit_get_type (void) G_GNUC_CONST;
ConfirmExit* confirm_exit_new (void);
ConfirmExit* confirm_exit_construct (GType object_type);
void main_window_set_arg_files (MainWindow* self, GFile** value, int value_length1);
static GFile** _vala_array_dup1 (GFile** self, int length);
static void main_window_finalize (GObject* obj);
static void _vala_main_window_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_main_window_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


static void _g_free0_ (gpointer var) {
	var = (g_free (var), NULL);
}


static void _g_list_free__g_free0_ (GList* self) {
	g_list_foreach (self, (GFunc) _g_free0_, NULL);
	g_list_free (self);
}


static void main_window_load_workspace (MainWindow* self) {
	gchar* workspace = NULL;
	const gchar* _tmp7_ = NULL;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	workspace = NULL;
	{
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		gchar* _tmp3_ = NULL;
		_tmp0_ = g_get_home_dir ();
		_tmp1_ = g_strconcat (_tmp0_, "/.simple-text/saved-workspace", NULL);
		_tmp2_ = _tmp1_;
		g_file_get_contents (_tmp2_, &_tmp3_, NULL, &_inner_error_);
		_g_free0 (workspace);
		workspace = _tmp3_;
		_g_free0 (_tmp2_);
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			goto __catch0_g_error;
		}
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		FILE* _tmp4_ = NULL;
		GError* _tmp5_ = NULL;
		const gchar* _tmp6_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp4_ = stderr;
		_tmp5_ = e;
		_tmp6_ = _tmp5_->message;
		fprintf (_tmp4_, "Error: %s\n", _tmp6_);
		_g_error_free0 (e);
	}
	__finally0:
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		_g_free0 (workspace);
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
	_tmp7_ = workspace;
	if (_tmp7_ != NULL) {
		const gchar* _tmp8_ = NULL;
		_tmp8_ = workspace;
		if (g_strcmp0 (_tmp8_, "") == 0) {
			main_window_new_tab_cb (self);
		} else {
			gchar** workspace_files = NULL;
			const gchar* _tmp9_ = NULL;
			gchar** _tmp10_ = NULL;
			gchar** _tmp11_ = NULL;
			gint workspace_files_length1 = 0;
			gint _workspace_files_size_ = 0;
			gchar** _tmp12_ = NULL;
			gint _tmp12__length1 = 0;
			_tmp9_ = workspace;
			_tmp11_ = _tmp10_ = g_strsplit (_tmp9_, "/,/", 0);
			workspace_files = _tmp11_;
			workspace_files_length1 = _vala_array_length (_tmp10_);
			_workspace_files_size_ = workspace_files_length1;
			_tmp12_ = workspace_files;
			_tmp12__length1 = workspace_files_length1;
			{
				gchar** file_collection = NULL;
				gint file_collection_length1 = 0;
				gint _file_collection_size_ = 0;
				gint file_it = 0;
				file_collection = _tmp12_;
				file_collection_length1 = _tmp12__length1;
				for (file_it = 0; file_it < _tmp12__length1; file_it = file_it + 1) {
					gchar* _tmp13_ = NULL;
					gchar* file = NULL;
					_tmp13_ = g_strdup (file_collection[file_it]);
					file = _tmp13_;
					{
						gboolean _tmp14_ = FALSE;
						const gchar* _tmp15_ = NULL;
						_tmp15_ = file;
						if (g_strcmp0 (_tmp15_, "") != 0) {
							const gchar* _tmp16_ = NULL;
							GFile* _tmp17_ = NULL;
							GFile* _tmp18_ = NULL;
							gboolean _tmp19_ = FALSE;
							_tmp16_ = file;
							_tmp17_ = g_file_new_for_path (_tmp16_);
							_tmp18_ = _tmp17_;
							_tmp19_ = g_file_query_exists (_tmp18_, NULL);
							_tmp14_ = _tmp19_;
							_g_object_unref0 (_tmp18_);
						} else {
							_tmp14_ = FALSE;
						}
						if (_tmp14_) {
							const gchar* _tmp20_ = NULL;
							_tmp20_ = file;
							main_window_add_new_tab_from_file (self, _tmp20_);
						}
						_g_free0 (file);
					}
				}
			}
			workspace_files = (_vala_array_free (workspace_files, workspace_files_length1, (GDestroyNotify) g_free), NULL);
		}
	}
	_g_free0 (workspace);
}


static Block1Data* block1_data_ref (Block1Data* _data1_) {
	g_atomic_int_inc (&_data1_->_ref_count_);
	return _data1_;
}


static void block1_data_unref (void * _userdata_) {
	Block1Data* _data1_;
	_data1_ = (Block1Data*) _userdata_;
	if (g_atomic_int_dec_and_test (&_data1_->_ref_count_)) {
		MainWindow* self;
		self = _data1_->self;
		_g_free0 (_data1_->workspace);
		_g_object_unref0 (self);
		g_slice_free (Block1Data, _data1_);
	}
}


static gboolean string_contains (const gchar* self, const gchar* needle) {
	gboolean result = FALSE;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (needle != NULL, FALSE);
	_tmp0_ = needle;
	_tmp1_ = strstr ((gchar*) self, (gchar*) _tmp0_);
	result = _tmp1_ != NULL;
	return result;
}


static void __lambda22_ (Block1Data* _data1_, const gchar* entry) {
	MainWindow* self;
	const gchar* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	self = _data1_->self;
	g_return_if_fail (entry != NULL);
	_tmp0_ = entry;
	_tmp1_ = string_contains (_tmp0_, "/");
	if (_tmp1_) {
		const gchar* _tmp2_ = NULL;
		gchar* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		_tmp2_ = entry;
		_tmp3_ = g_strconcat (_tmp2_, "/,/", NULL);
		_tmp4_ = _tmp3_;
		_tmp5_ = g_strconcat (_data1_->workspace, _tmp4_, NULL);
		_g_free0 (_data1_->workspace);
		_data1_->workspace = _tmp5_;
		_g_free0 (_tmp4_);
	}
}


static void ___lambda22__gfunc (gconstpointer data, gpointer self) {
	__lambda22_ (self, (const gchar*) data);
}


static void main_window_save_workspace (MainWindow* self) {
	Block1Data* _data1_;
	gchar* _tmp0_ = NULL;
	GList* _tmp1_ = NULL;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	_data1_ = g_slice_new0 (Block1Data);
	_data1_->_ref_count_ = 1;
	_data1_->self = g_object_ref (self);
	_tmp0_ = g_strdup ("");
	_data1_->workspace = _tmp0_;
	_tmp1_ = self->priv->opened_files;
	g_list_foreach (_tmp1_, ___lambda22__gfunc, _data1_);
	{
		const gchar* _tmp2_ = NULL;
		gchar* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
		_tmp2_ = g_get_home_dir ();
		_tmp3_ = g_strconcat (_tmp2_, "/.simple-text/saved-workspace", NULL);
		_tmp4_ = _tmp3_;
		g_file_set_contents (_tmp4_, _data1_->workspace, (gssize) (-1), &_inner_error_);
		_g_free0 (_tmp4_);
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			goto __catch1_g_error;
		}
	}
	goto __finally1;
	__catch1_g_error:
	{
		GError* e = NULL;
		FILE* _tmp5_ = NULL;
		GError* _tmp6_ = NULL;
		const gchar* _tmp7_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp5_ = stderr;
		_tmp6_ = e;
		_tmp7_ = _tmp6_->message;
		fprintf (_tmp5_, "Error: %s\n", _tmp7_);
		_g_error_free0 (e);
	}
	__finally1:
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		block1_data_unref (_data1_);
		_data1_ = NULL;
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
	block1_data_unref (_data1_);
	_data1_ = NULL;
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


static void __lambda23_ (MainWindow* self, GParamSpec* pspec) {
	GtkSettings* _tmp0_ = NULL;
	TextEditor* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	g_return_if_fail (pspec != NULL);
	_tmp0_ = gtk_settings_get_default ();
	_tmp1_ = self->priv->_editor;
	_tmp2_ = text_editor_get_prefer_dark (_tmp1_);
	_tmp3_ = _tmp2_;
	g_object_set ((GObject*) _tmp0_, "gtk-application-prefer-dark-theme", _tmp3_, NULL);
}


static void ___lambda23__g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self) {
	__lambda23_ ((MainWindow*) self, pspec);
}


MainWindow* main_window_construct (GType object_type, GtkApplication* app, TextEditor* editor) {
	MainWindow * self = NULL;
	GtkApplication* _tmp0_ = NULL;
	TextEditor* _tmp1_ = NULL;
	TextEditor* _tmp2_ = NULL;
	TextEditor* _tmp3_ = NULL;
	GArray* _tmp4_ = NULL;
	g_return_val_if_fail (app != NULL, NULL);
	g_return_val_if_fail (editor != NULL, NULL);
	_tmp0_ = app;
	self = (MainWindow*) g_object_new (object_type, "application", _tmp0_, NULL);
	_tmp1_ = editor;
	_tmp2_ = _g_object_ref0 (_tmp1_);
	_g_object_unref0 (self->priv->_editor);
	self->priv->_editor = _tmp2_;
	_tmp3_ = self->priv->_editor;
	g_signal_connect_object ((GObject*) _tmp3_, "notify::prefer-dark", (GCallback) ___lambda23__g_object_notify, self, 0);
	__g_list_free__g_free0_0 (self->priv->opened_files);
	self->priv->opened_files = NULL;
	_tmp4_ = g_array_new (TRUE, TRUE, sizeof (gchar*));
	_g_array_unref0 (self->priv->closed_files);
	self->priv->closed_files = _tmp4_;
	g_object_set ((GtkWindow*) self, "window-position", GTK_WIN_POS_CENTER_ALWAYS, NULL);
	gtk_window_set_default_size ((GtkWindow*) self, 1000, 700);
	gtk_container_set_border_width ((GtkContainer*) self, (guint) 0);
	gtk_window_maximize ((GtkWindow*) self);
	main_window_create_widgets (self);
	return self;
}


MainWindow* main_window_new (GtkApplication* app, TextEditor* editor) {
	return main_window_construct (TYPE_MAIN_WINDOW, app, editor);
}


static void _main_window_re_open_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	main_window_re_open_cb ((MainWindow*) self);
}


static void _main_window_save_as_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	main_window_save_as_cb ((MainWindow*) self);
}


static void _main_window_next_tab_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	main_window_next_tab_cb ((MainWindow*) self);
}


static void _main_window_prev_tab_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	main_window_prev_tab_cb ((MainWindow*) self);
}


static void _main_window_close_tab_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	main_window_close_tab_cb ((MainWindow*) self);
}


static void _main_window_set_syntax_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	main_window_set_syntax_cb ((MainWindow*) self);
}


static void _main_window_on_show_terminal_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	main_window_on_show_terminal ((MainWindow*) self);
}


static void _main_window_search_mode_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	main_window_search_mode_cb ((MainWindow*) self);
}


static void _main_window_quit_cb_g_simple_action_activate (GSimpleAction* _sender, GVariant* parameter, gpointer self) {
	main_window_quit_cb ((MainWindow*) self);
}


static void _main_window_search_stuff_next_gtk_search_entry_search_changed (GtkSearchEntry* _sender, gpointer self) {
	main_window_search_stuff_next ((MainWindow*) self);
}


static void _main_window_search_stuff_next_gtk_entry_activate (GtkEntry* _sender, gpointer self) {
	main_window_search_stuff_next ((MainWindow*) self);
}


static void _main_window_search_stuff_next_gtk_button_clicked (GtkButton* _sender, gpointer self) {
	main_window_search_stuff_next ((MainWindow*) self);
}


static void _main_window_search_stuff_prev_gtk_button_clicked (GtkButton* _sender, gpointer self) {
	main_window_search_stuff_prev ((MainWindow*) self);
}


static void _main_window_on_page_switched_simple_tab_bar_page_switched (SimpleTabBar* _sender, SimpleTab* tab, gpointer self) {
	main_window_on_page_switched ((MainWindow*) self, tab);
}


static void _main_window_on_page_close_simple_tab_bar_page_closed (SimpleTabBar* _sender, SimpleTab* tab, gint page_num, gpointer self) {
	main_window_on_page_close ((MainWindow*) self, tab, page_num);
}


static void _main_window_change_syntax_cb_simple_statusbar_change_syntax_request (SimpleStatusbar* _sender, const gchar* language, gpointer self) {
	main_window_change_syntax_cb ((MainWindow*) self, language);
}


static void main_window_create_widgets (MainWindow* self) {
	GtkSettings* _tmp0_ = NULL;
	TextEditor* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	SimpleHeaderBar* _tmp4_ = NULL;
	SimpleHeaderBar* _tmp5_ = NULL;
	SimpleHeaderBar* _tmp6_ = NULL;
	GSimpleAction* action_re_open = NULL;
	GSimpleAction* _tmp7_ = NULL;
	GSimpleAction* action_save_as = NULL;
	GSimpleAction* _tmp8_ = NULL;
	GSimpleAction* action_next_tab = NULL;
	GSimpleAction* _tmp9_ = NULL;
	GSimpleAction* action_prev_tab = NULL;
	GSimpleAction* _tmp10_ = NULL;
	GSimpleAction* action_close_tab = NULL;
	GSimpleAction* _tmp11_ = NULL;
	GSimpleAction* action_set_syntax = NULL;
	GSimpleAction* _tmp12_ = NULL;
	GSimpleAction* action_show_terminal = NULL;
	GSimpleAction* _tmp13_ = NULL;
	GSimpleAction* action_search_mode = NULL;
	GSimpleAction* _tmp14_ = NULL;
	GSimpleAction* action_quit = NULL;
	GSimpleAction* _tmp15_ = NULL;
	GtkSearchEntry* _tmp16_ = NULL;
	GtkSearchEntry* _tmp17_ = NULL;
	const gchar* _tmp18_ = NULL;
	GtkSearchEntry* _tmp19_ = NULL;
	GtkSearchEntry* _tmp20_ = NULL;
	GtkSearchEntry* _tmp21_ = NULL;
	GtkSearchEntry* _tmp22_ = NULL;
	GtkButton* _tmp23_ = NULL;
	GtkButton* _tmp24_ = NULL;
	GtkButton* _tmp25_ = NULL;
	GtkButton* _tmp26_ = NULL;
	GtkButton* _tmp27_ = NULL;
	GtkButton* _tmp28_ = NULL;
	GtkBox* hbox = NULL;
	GtkBox* _tmp29_ = NULL;
	GtkSearchEntry* _tmp30_ = NULL;
	GtkButton* _tmp31_ = NULL;
	GtkButton* _tmp32_ = NULL;
	GtkSearchBar* _tmp33_ = NULL;
	GtkSearchBar* _tmp34_ = NULL;
	GtkSearchEntry* _tmp35_ = NULL;
	GtkSearchBar* _tmp36_ = NULL;
	GtkSearchBar* _tmp37_ = NULL;
	GtkStack* _tmp38_ = NULL;
	GtkStack* _tmp39_ = NULL;
	GtkStack* _tmp40_ = NULL;
	GtkStack* _tmp41_ = NULL;
	SimpleTabBar* _tmp42_ = NULL;
	SimpleTabBar* _tmp43_ = NULL;
	GtkStack* _tmp44_ = NULL;
	SimpleTabBar* _tmp45_ = NULL;
	SimpleTabBar* _tmp46_ = NULL;
	SimpleTabBar* _tmp47_ = NULL;
	SimpleStatusbar* _tmp48_ = NULL;
	SimpleStatusbar* _tmp49_ = NULL;
	SimpleStatusbar* _tmp50_ = NULL;
	GtkSeparator* separator = NULL;
	GtkSeparator* _tmp51_ = NULL;
	GtkBox* vbox = NULL;
	GtkBox* _tmp52_ = NULL;
	GtkSearchBar* _tmp53_ = NULL;
	SimpleTabBar* _tmp54_ = NULL;
	GtkStack* _tmp55_ = NULL;
	SimpleStatusbar* _tmp56_ = NULL;
	VteTerminal* _tmp57_ = NULL;
	GtkPaned* pane = NULL;
	GtkPaned* _tmp58_ = NULL;
	VteTerminal* _tmp59_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = gtk_settings_get_default ();
	_tmp1_ = self->priv->_editor;
	_tmp2_ = text_editor_get_prefer_dark (_tmp1_);
	_tmp3_ = _tmp2_;
	g_object_set ((GObject*) _tmp0_, "gtk-application-prefer-dark-theme", _tmp3_, NULL);
	_tmp4_ = simple_header_bar_new (self);
	g_object_ref_sink (_tmp4_);
	_g_object_unref0 (self->priv->headerbar);
	self->priv->headerbar = _tmp4_;
	_tmp5_ = self->priv->headerbar;
	gtk_window_set_titlebar ((GtkWindow*) self, (GtkWidget*) _tmp5_);
	_tmp6_ = self->priv->headerbar;
	gtk_widget_show ((GtkWidget*) _tmp6_);
	_tmp7_ = g_simple_action_new ("re_open", NULL);
	action_re_open = _tmp7_;
	g_signal_connect_object (action_re_open, "activate", (GCallback) _main_window_re_open_cb_g_simple_action_activate, self, 0);
	g_action_map_add_action ((GActionMap*) self, (GAction*) action_re_open);
	_tmp8_ = g_simple_action_new ("save_as", NULL);
	action_save_as = _tmp8_;
	g_signal_connect_object (action_save_as, "activate", (GCallback) _main_window_save_as_cb_g_simple_action_activate, self, 0);
	g_action_map_add_action ((GActionMap*) self, (GAction*) action_save_as);
	_tmp9_ = g_simple_action_new ("next_tab", NULL);
	action_next_tab = _tmp9_;
	g_signal_connect_object (action_next_tab, "activate", (GCallback) _main_window_next_tab_cb_g_simple_action_activate, self, 0);
	g_action_map_add_action ((GActionMap*) self, (GAction*) action_next_tab);
	_tmp10_ = g_simple_action_new ("prev_tab", NULL);
	action_prev_tab = _tmp10_;
	g_signal_connect_object (action_prev_tab, "activate", (GCallback) _main_window_prev_tab_cb_g_simple_action_activate, self, 0);
	g_action_map_add_action ((GActionMap*) self, (GAction*) action_prev_tab);
	_tmp11_ = g_simple_action_new ("close_tab", NULL);
	action_close_tab = _tmp11_;
	g_signal_connect_object (action_close_tab, "activate", (GCallback) _main_window_close_tab_cb_g_simple_action_activate, self, 0);
	g_action_map_add_action ((GActionMap*) self, (GAction*) action_close_tab);
	_tmp12_ = g_simple_action_new ("set_syntax", NULL);
	action_set_syntax = _tmp12_;
	g_signal_connect_object (action_set_syntax, "activate", (GCallback) _main_window_set_syntax_cb_g_simple_action_activate, self, 0);
	g_action_map_add_action ((GActionMap*) self, (GAction*) action_set_syntax);
	_tmp13_ = g_simple_action_new ("toggle_terminal", NULL);
	action_show_terminal = _tmp13_;
	g_signal_connect_object (action_show_terminal, "activate", (GCallback) _main_window_on_show_terminal_g_simple_action_activate, self, 0);
	g_action_map_add_action ((GActionMap*) self, (GAction*) action_show_terminal);
	_tmp14_ = g_simple_action_new ("search_mode", NULL);
	action_search_mode = _tmp14_;
	g_signal_connect_object (action_search_mode, "activate", (GCallback) _main_window_search_mode_cb_g_simple_action_activate, self, 0);
	g_action_map_add_action ((GActionMap*) self, (GAction*) action_search_mode);
	_tmp15_ = g_simple_action_new ("quit_window", NULL);
	action_quit = _tmp15_;
	g_signal_connect_object (action_quit, "activate", (GCallback) _main_window_quit_cb_g_simple_action_activate, self, 0);
	g_action_map_add_action ((GActionMap*) self, (GAction*) action_quit);
	_tmp16_ = (GtkSearchEntry*) gtk_search_entry_new ();
	g_object_ref_sink (_tmp16_);
	_g_object_unref0 (self->priv->search_entry);
	self->priv->search_entry = _tmp16_;
	_tmp17_ = self->priv->search_entry;
	_tmp18_ = _ ("Enter your search...");
	gtk_entry_set_placeholder_text ((GtkEntry*) _tmp17_, _tmp18_);
	_tmp19_ = self->priv->search_entry;
	gtk_entry_set_width_chars ((GtkEntry*) _tmp19_, 60);
	_tmp20_ = self->priv->search_entry;
	g_signal_connect_object (_tmp20_, "search-changed", (GCallback) _main_window_search_stuff_next_gtk_search_entry_search_changed, self, 0);
	_tmp21_ = self->priv->search_entry;
	g_signal_connect_object ((GtkEntry*) _tmp21_, "activate", (GCallback) _main_window_search_stuff_next_gtk_entry_activate, self, 0);
	_tmp22_ = self->priv->search_entry;
	gtk_widget_show ((GtkWidget*) _tmp22_);
	_tmp23_ = (GtkButton*) gtk_button_new_from_icon_name ("go-down-symbolic", GTK_ICON_SIZE_MENU);
	g_object_ref_sink (_tmp23_);
	_g_object_unref0 (self->priv->next_search);
	self->priv->next_search = _tmp23_;
	_tmp24_ = self->priv->next_search;
	g_signal_connect_object (_tmp24_, "clicked", (GCallback) _main_window_search_stuff_next_gtk_button_clicked, self, 0);
	_tmp25_ = self->priv->next_search;
	gtk_widget_show ((GtkWidget*) _tmp25_);
	_tmp26_ = (GtkButton*) gtk_button_new_from_icon_name ("go-up-symbolic", GTK_ICON_SIZE_MENU);
	g_object_ref_sink (_tmp26_);
	_g_object_unref0 (self->priv->previous_search);
	self->priv->previous_search = _tmp26_;
	_tmp27_ = self->priv->previous_search;
	g_signal_connect_object (_tmp27_, "clicked", (GCallback) _main_window_search_stuff_prev_gtk_button_clicked, self, 0);
	_tmp28_ = self->priv->previous_search;
	gtk_widget_show ((GtkWidget*) _tmp28_);
	_tmp29_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 5);
	g_object_ref_sink (_tmp29_);
	hbox = _tmp29_;
	_tmp30_ = self->priv->search_entry;
	gtk_box_pack_start (hbox, (GtkWidget*) _tmp30_, FALSE, FALSE, (guint) 0);
	_tmp31_ = self->priv->previous_search;
	gtk_box_pack_start (hbox, (GtkWidget*) _tmp31_, FALSE, FALSE, (guint) 0);
	_tmp32_ = self->priv->next_search;
	gtk_box_pack_start (hbox, (GtkWidget*) _tmp32_, FALSE, FALSE, (guint) 0);
	gtk_widget_show ((GtkWidget*) hbox);
	_tmp33_ = (GtkSearchBar*) gtk_search_bar_new ();
	g_object_ref_sink (_tmp33_);
	_g_object_unref0 (self->priv->search_bar);
	self->priv->search_bar = _tmp33_;
	_tmp34_ = self->priv->search_bar;
	_tmp35_ = self->priv->search_entry;
	gtk_search_bar_connect_entry (_tmp34_, (GtkEntry*) _tmp35_);
	_tmp36_ = self->priv->search_bar;
	gtk_container_add ((GtkContainer*) _tmp36_, (GtkWidget*) hbox);
	_tmp37_ = self->priv->search_bar;
	gtk_widget_show ((GtkWidget*) _tmp37_);
	_tmp38_ = (GtkStack*) gtk_stack_new ();
	g_object_ref_sink (_tmp38_);
	_g_object_unref0 (self->priv->documents);
	self->priv->documents = _tmp38_;
	_tmp39_ = self->priv->documents;
	gtk_stack_set_transition_type (_tmp39_, GTK_STACK_TRANSITION_TYPE_OVER_LEFT_RIGHT);
	_tmp40_ = self->priv->documents;
	gtk_stack_set_transition_duration (_tmp40_, (guint) 250);
	_tmp41_ = self->priv->documents;
	gtk_widget_show ((GtkWidget*) _tmp41_);
	_tmp42_ = simple_tab_bar_new ();
	g_object_ref_sink (_tmp42_);
	_g_object_unref0 (self->priv->tab_bar);
	self->priv->tab_bar = _tmp42_;
	_tmp43_ = self->priv->tab_bar;
	_tmp44_ = self->priv->documents;
	simple_tab_bar_set_stack (_tmp43_, _tmp44_);
	_tmp45_ = self->priv->tab_bar;
	g_signal_connect_object (_tmp45_, "page-switched", (GCallback) _main_window_on_page_switched_simple_tab_bar_page_switched, self, 0);
	_tmp46_ = self->priv->tab_bar;
	g_signal_connect_object (_tmp46_, "page-closed", (GCallback) _main_window_on_page_close_simple_tab_bar_page_closed, self, 0);
	_tmp47_ = self->priv->tab_bar;
	gtk_widget_show ((GtkWidget*) _tmp47_);
	_tmp48_ = simple_statusbar_new (self);
	g_object_ref_sink (_tmp48_);
	_g_object_unref0 (self->priv->status);
	self->priv->status = _tmp48_;
	_tmp49_ = self->priv->status;
	g_signal_connect_object (_tmp49_, "change-syntax-request", (GCallback) _main_window_change_syntax_cb_simple_statusbar_change_syntax_request, self, 0);
	_tmp50_ = self->priv->status;
	gtk_widget_show ((GtkWidget*) _tmp50_);
	_tmp51_ = (GtkSeparator*) gtk_separator_new (GTK_ORIENTATION_HORIZONTAL);
	g_object_ref_sink (_tmp51_);
	separator = _tmp51_;
	gtk_widget_show ((GtkWidget*) separator);
	_tmp52_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 0);
	g_object_ref_sink (_tmp52_);
	vbox = _tmp52_;
	_tmp53_ = self->priv->search_bar;
	gtk_box_pack_start (vbox, (GtkWidget*) _tmp53_, FALSE, TRUE, (guint) 0);
	_tmp54_ = self->priv->tab_bar;
	gtk_box_pack_start (vbox, (GtkWidget*) _tmp54_, FALSE, TRUE, (guint) 7);
	gtk_box_pack_start (vbox, (GtkWidget*) separator, FALSE, TRUE, (guint) 0);
	_tmp55_ = self->priv->documents;
	gtk_box_pack_start (vbox, (GtkWidget*) _tmp55_, TRUE, TRUE, (guint) 0);
	_tmp56_ = self->priv->status;
	gtk_box_pack_start (vbox, (GtkWidget*) _tmp56_, FALSE, TRUE, (guint) 0);
	g_object_set ((GtkWidget*) vbox, "height-request", 400, NULL);
	gtk_widget_show ((GtkWidget*) vbox);
	_tmp57_ = (VteTerminal*) vte_terminal_new ();
	g_object_ref_sink (_tmp57_);
	_g_object_unref0 (self->priv->terminal);
	self->priv->terminal = _tmp57_;
	_tmp58_ = (GtkPaned*) gtk_paned_new (GTK_ORIENTATION_VERTICAL);
	g_object_ref_sink (_tmp58_);
	pane = _tmp58_;
	gtk_paned_pack1 (pane, (GtkWidget*) vbox, FALSE, FALSE);
	_tmp59_ = self->priv->terminal;
	gtk_paned_pack2 (pane, (GtkWidget*) _tmp59_, TRUE, TRUE);
	gtk_widget_show ((GtkWidget*) pane);
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) pane);
	_g_object_unref0 (pane);
	_g_object_unref0 (vbox);
	_g_object_unref0 (separator);
	_g_object_unref0 (hbox);
	_g_object_unref0 (action_quit);
	_g_object_unref0 (action_search_mode);
	_g_object_unref0 (action_show_terminal);
	_g_object_unref0 (action_set_syntax);
	_g_object_unref0 (action_close_tab);
	_g_object_unref0 (action_prev_tab);
	_g_object_unref0 (action_next_tab);
	_g_object_unref0 (action_save_as);
	_g_object_unref0 (action_re_open);
}


static void main_window_on_page_switched (MainWindow* self, SimpleTab* tab) {
	gint page_num = 0;
	SimpleTabBar* _tmp0_ = NULL;
	SimpleTab* _tmp1_ = NULL;
	gint _tmp2_ = 0;
	SimpleHeaderBar* _tmp3_ = NULL;
	GList* _tmp4_ = NULL;
	gint _tmp5_ = 0;
	gconstpointer _tmp6_ = NULL;
	VteTerminal* _tmp7_ = NULL;
	gboolean _tmp8_ = FALSE;
	SimpleStatusbar* _tmp17_ = NULL;
	SimpleStatusbar* _tmp18_ = NULL;
	SimpleHeaderBar* _tmp19_ = NULL;
	const gchar* _tmp20_ = NULL;
	const gchar* _tmp21_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab != NULL);
	_tmp0_ = self->priv->tab_bar;
	_tmp1_ = tab;
	_tmp2_ = simple_tab_bar_get_page_num (_tmp0_, _tmp1_);
	page_num = _tmp2_;
	_tmp3_ = self->priv->headerbar;
	_tmp4_ = self->priv->opened_files;
	_tmp5_ = page_num;
	_tmp6_ = g_list_nth_data (_tmp4_, (guint) _tmp5_);
	gtk_header_bar_set_title ((GtkHeaderBar*) _tmp3_, (const gchar*) _tmp6_);
	_tmp7_ = self->priv->terminal;
	_tmp8_ = gtk_widget_get_visible ((GtkWidget*) _tmp7_);
	if (_tmp8_) {
		VteTerminal* _tmp9_ = NULL;
		VteTerminal* _tmp10_ = NULL;
		GtkScrolledWindow* visible_doc = NULL;
		GtkStack* _tmp11_ = NULL;
		GtkWidget* _tmp12_ = NULL;
		GtkWidget* _tmp13_ = NULL;
		GtkScrolledWindow* _tmp14_ = NULL;
		GtkScrolledWindow* _tmp15_ = NULL;
		GtkWidget* _tmp16_ = NULL;
		_tmp9_ = self->priv->terminal;
		vte_terminal_reset (_tmp9_, TRUE, TRUE);
		_tmp10_ = self->priv->terminal;
		gtk_widget_hide ((GtkWidget*) _tmp10_);
		_tmp11_ = self->priv->documents;
		_tmp12_ = gtk_stack_get_visible_child (_tmp11_);
		_tmp13_ = _tmp12_;
		_tmp14_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, gtk_scrolled_window_get_type ()) ? ((GtkScrolledWindow*) _tmp13_) : NULL);
		visible_doc = _tmp14_;
		_tmp15_ = visible_doc;
		_tmp16_ = gtk_bin_get_child ((GtkBin*) _tmp15_);
		gtk_widget_grab_focus (_tmp16_);
		_g_object_unref0 (visible_doc);
	}
	_tmp17_ = self->priv->status;
	simple_statusbar_refresh_statusbar (_tmp17_, FILE_OPEARTION_NULL_OPERATION, NULL);
	_tmp18_ = self->priv->status;
	_tmp19_ = self->priv->headerbar;
	_tmp20_ = gtk_header_bar_get_title ((GtkHeaderBar*) _tmp19_);
	_tmp21_ = _tmp20_;
	simple_statusbar_refresh_language (_tmp18_, _tmp21_);
}


static void main_window_change_syntax_cb (MainWindow* self, const gchar* language) {
	SimpleTab* current_page = NULL;
	SimpleTabBar* _tmp0_ = NULL;
	GtkStack* _tmp1_ = NULL;
	GtkWidget* _tmp2_ = NULL;
	GtkWidget* _tmp3_ = NULL;
	SimpleTab* _tmp4_ = NULL;
	ProgrammingLanguages* p_langs = NULL;
	ProgrammingLanguages* _tmp5_ = NULL;
	gchar* lang_id = NULL;
	const gchar* _tmp6_ = NULL;
	gchar* _tmp7_ = NULL;
	SimpleSourceView* _tmp8_ = NULL;
	SimpleSourceView* _tmp9_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (language != NULL);
	_tmp0_ = self->priv->tab_bar;
	_tmp1_ = self->priv->documents;
	_tmp2_ = gtk_stack_get_visible_child (_tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = simple_tab_bar_get_current_page (_tmp0_, _tmp3_);
	current_page = _tmp4_;
	_tmp5_ = programming_languages_new ();
	p_langs = _tmp5_;
	_tmp6_ = language;
	_tmp7_ = programming_languages_get_lang_id_from_name (p_langs, _tmp6_);
	lang_id = _tmp7_;
	_tmp8_ = simple_tab_get_text_view (current_page);
	_tmp9_ = _tmp8_;
	simple_source_view_change_language (_tmp9_, lang_id);
	_g_free0 (lang_id);
	_programming_languages_unref0 (p_langs);
	_g_object_unref0 (current_page);
}


static void main_window_on_show_terminal (MainWindow* self) {
	VteTerminal* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->terminal;
	_tmp1_ = gtk_widget_get_visible ((GtkWidget*) _tmp0_);
	if (_tmp1_) {
		VteTerminal* _tmp2_ = NULL;
		VteTerminal* _tmp3_ = NULL;
		GtkScrolledWindow* visible_doc = NULL;
		GtkStack* _tmp4_ = NULL;
		GtkWidget* _tmp5_ = NULL;
		GtkWidget* _tmp6_ = NULL;
		GtkScrolledWindow* _tmp7_ = NULL;
		GtkScrolledWindow* _tmp8_ = NULL;
		GtkWidget* _tmp9_ = NULL;
		_tmp2_ = self->priv->terminal;
		vte_terminal_reset (_tmp2_, TRUE, TRUE);
		_tmp3_ = self->priv->terminal;
		gtk_widget_hide ((GtkWidget*) _tmp3_);
		_tmp4_ = self->priv->documents;
		_tmp5_ = gtk_stack_get_visible_child (_tmp4_);
		_tmp6_ = _tmp5_;
		_tmp7_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, gtk_scrolled_window_get_type ()) ? ((GtkScrolledWindow*) _tmp6_) : NULL);
		visible_doc = _tmp7_;
		_tmp8_ = visible_doc;
		_tmp9_ = gtk_bin_get_child ((GtkBin*) _tmp8_);
		gtk_widget_grab_focus (_tmp9_);
		_g_object_unref0 (visible_doc);
	} else {
		SimpleTab* current_page = NULL;
		SimpleTabBar* _tmp10_ = NULL;
		GtkStack* _tmp11_ = NULL;
		GtkWidget* _tmp12_ = NULL;
		GtkWidget* _tmp13_ = NULL;
		SimpleTab* _tmp14_ = NULL;
		gint page_num = 0;
		SimpleTabBar* _tmp15_ = NULL;
		SimpleTab* _tmp16_ = NULL;
		gint _tmp17_ = 0;
		gchar* file_name = NULL;
		GList* _tmp18_ = NULL;
		gint _tmp19_ = 0;
		gconstpointer _tmp20_ = NULL;
		gchar* _tmp21_ = NULL;
		gchar* working_dir = NULL;
		const gchar* _tmp22_ = NULL;
		const gchar* _tmp23_ = NULL;
		gboolean _tmp24_ = FALSE;
		VteTerminal* _tmp29_ = NULL;
		VteTerminal* _tmp30_ = NULL;
		VteTerminal* _tmp31_ = NULL;
		VteTerminal* _tmp32_ = NULL;
		VteTerminal* _tmp41_ = NULL;
		VteTerminal* _tmp42_ = NULL;
		_tmp10_ = self->priv->tab_bar;
		_tmp11_ = self->priv->documents;
		_tmp12_ = gtk_stack_get_visible_child (_tmp11_);
		_tmp13_ = _tmp12_;
		_tmp14_ = simple_tab_bar_get_current_page (_tmp10_, _tmp13_);
		current_page = _tmp14_;
		_tmp15_ = self->priv->tab_bar;
		_tmp16_ = current_page;
		_tmp17_ = simple_tab_bar_get_page_num (_tmp15_, _tmp16_);
		page_num = _tmp17_;
		_tmp18_ = self->priv->opened_files;
		_tmp19_ = page_num;
		_tmp20_ = g_list_nth_data (_tmp18_, (guint) _tmp19_);
		_tmp21_ = g_strdup ((const gchar*) _tmp20_);
		file_name = _tmp21_;
		_tmp22_ = file_name;
		_tmp23_ = self->priv->untitled;
		_tmp24_ = string_contains (_tmp22_, _tmp23_);
		if (_tmp24_) {
			const gchar* _tmp25_ = NULL;
			gchar* _tmp26_ = NULL;
			_tmp25_ = g_get_home_dir ();
			_tmp26_ = g_strdup (_tmp25_);
			_g_free0 (working_dir);
			working_dir = _tmp26_;
		} else {
			const gchar* _tmp27_ = NULL;
			gchar* _tmp28_ = NULL;
			_tmp27_ = file_name;
			_tmp28_ = g_path_get_dirname (_tmp27_);
			_g_free0 (working_dir);
			working_dir = _tmp28_;
		}
		_tmp29_ = self->priv->terminal;
		vte_terminal_set_cursor_blink_mode (_tmp29_, VTE_CURSOR_BLINK_ON);
		_tmp30_ = self->priv->terminal;
		vte_terminal_set_cursor_shape (_tmp30_, VTE_CURSOR_SHAPE_BLOCK);
		_tmp31_ = self->priv->terminal;
		vte_terminal_set_input_enabled (_tmp31_, TRUE);
		_tmp32_ = self->priv->terminal;
		vte_terminal_set_allow_bold (_tmp32_, TRUE);
		{
			VteTerminal* _tmp33_ = NULL;
			const gchar* _tmp34_ = NULL;
			gchar* _tmp35_ = NULL;
			gchar** _tmp36_ = NULL;
			gchar** _tmp37_ = NULL;
			gint _tmp37__length1 = 0;
			_tmp33_ = self->priv->terminal;
			_tmp34_ = working_dir;
			_tmp35_ = vte_get_user_shell ();
			_tmp36_ = g_new0 (gchar*, 1 + 1);
			_tmp36_[0] = _tmp35_;
			_tmp37_ = _tmp36_;
			_tmp37__length1 = 1;
			vte_terminal_spawn_sync (_tmp33_, VTE_PTY_DEFAULT, _tmp34_, _tmp37_, NULL, G_SPAWN_DO_NOT_REAP_CHILD, NULL, NULL, NULL, NULL, &_inner_error_);
			_tmp37_ = (_vala_array_free (_tmp37_, _tmp37__length1, (GDestroyNotify) g_free), NULL);
			if (G_UNLIKELY (_inner_error_ != NULL)) {
				goto __catch2_g_error;
			}
		}
		goto __finally2;
		__catch2_g_error:
		{
			GError* e = NULL;
			FILE* _tmp38_ = NULL;
			GError* _tmp39_ = NULL;
			const gchar* _tmp40_ = NULL;
			e = _inner_error_;
			_inner_error_ = NULL;
			_tmp38_ = stderr;
			_tmp39_ = e;
			_tmp40_ = _tmp39_->message;
			fprintf (_tmp38_, "Error: %s\n", _tmp40_);
			_g_error_free0 (e);
		}
		__finally2:
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			_g_free0 (working_dir);
			_g_free0 (file_name);
			_g_object_unref0 (current_page);
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return;
		}
		_tmp41_ = self->priv->terminal;
		gtk_widget_show ((GtkWidget*) _tmp41_);
		_tmp42_ = self->priv->terminal;
		gtk_widget_grab_focus ((GtkWidget*) _tmp42_);
		_g_free0 (working_dir);
		_g_free0 (file_name);
		_g_object_unref0 (current_page);
	}
}


static void main_window_set_syntax_cb (MainWindow* self) {
	SimpleStatusbar* _tmp0_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->status;
	simple_statusbar_toggle_picker (_tmp0_);
}


static void ___lambda19_ (MainWindow* self, const gchar* entry) {
	const gchar* _tmp0_ = NULL;
	g_return_if_fail (entry != NULL);
	_tmp0_ = entry;
	main_window_add_new_tab_from_file (self, (const gchar*) _tmp0_);
}


static void ____lambda19__gfunc (gconstpointer data, gpointer self) {
	___lambda19_ ((MainWindow*) self, (const gchar*) data);
}


static void _g_slist_free__g_free0_ (GSList* self) {
	g_slist_foreach (self, (GFunc) _g_free0_, NULL);
	g_slist_free (self);
}


void main_window_open_file_cb (MainWindow* self) {
	GtkFileChooserDialog* file_chooser = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	GtkFileChooserDialog* _tmp3_ = NULL;
	GtkStack* _tmp4_ = NULL;
	GtkWidget* _tmp5_ = NULL;
	GtkWidget* _tmp6_ = NULL;
	GtkFileChooserDialog* _tmp27_ = NULL;
	GtkFileChooserDialog* _tmp28_ = NULL;
	gint _tmp29_ = 0;
	GtkFileChooserDialog* _tmp33_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = _ ("Open File");
	_tmp1_ = _ ("Cancel");
	_tmp2_ = _ ("Open");
	_tmp3_ = (GtkFileChooserDialog*) gtk_file_chooser_dialog_new (_tmp0_, (GtkWindow*) self, GTK_FILE_CHOOSER_ACTION_OPEN, _tmp1_, GTK_RESPONSE_CANCEL, _tmp2_, GTK_RESPONSE_ACCEPT, NULL);
	g_object_ref_sink (_tmp3_);
	file_chooser = _tmp3_;
	_tmp4_ = self->priv->documents;
	_tmp5_ = gtk_stack_get_visible_child (_tmp4_);
	_tmp6_ = _tmp5_;
	if (_tmp6_ != NULL) {
		SimpleTab* current_page = NULL;
		SimpleTabBar* _tmp7_ = NULL;
		GtkStack* _tmp8_ = NULL;
		GtkWidget* _tmp9_ = NULL;
		GtkWidget* _tmp10_ = NULL;
		SimpleTab* _tmp11_ = NULL;
		gchar* filename = NULL;
		GList* _tmp12_ = NULL;
		SimpleTabBar* _tmp13_ = NULL;
		SimpleTab* _tmp14_ = NULL;
		gint _tmp15_ = 0;
		gconstpointer _tmp16_ = NULL;
		gchar* _tmp17_ = NULL;
		const gchar* _tmp18_ = NULL;
		const gchar* _tmp19_ = NULL;
		gboolean _tmp20_ = FALSE;
		_tmp7_ = self->priv->tab_bar;
		_tmp8_ = self->priv->documents;
		_tmp9_ = gtk_stack_get_visible_child (_tmp8_);
		_tmp10_ = _tmp9_;
		_tmp11_ = simple_tab_bar_get_current_page (_tmp7_, _tmp10_);
		current_page = _tmp11_;
		_tmp12_ = self->priv->opened_files;
		_tmp13_ = self->priv->tab_bar;
		_tmp14_ = current_page;
		_tmp15_ = simple_tab_bar_get_page_num (_tmp13_, _tmp14_);
		_tmp16_ = g_list_nth_data (_tmp12_, (guint) _tmp15_);
		_tmp17_ = g_strdup ((const gchar*) _tmp16_);
		filename = _tmp17_;
		_tmp18_ = filename;
		_tmp19_ = self->priv->untitled;
		_tmp20_ = string_contains (_tmp18_, _tmp19_);
		if (_tmp20_) {
			GtkFileChooserDialog* _tmp21_ = NULL;
			const gchar* _tmp22_ = NULL;
			_tmp21_ = file_chooser;
			_tmp22_ = g_get_home_dir ();
			gtk_file_chooser_set_current_folder ((GtkFileChooser*) _tmp21_, _tmp22_);
		} else {
			GtkFileChooserDialog* _tmp23_ = NULL;
			const gchar* _tmp24_ = NULL;
			gchar* _tmp25_ = NULL;
			gchar* _tmp26_ = NULL;
			_tmp23_ = file_chooser;
			_tmp24_ = filename;
			_tmp25_ = g_path_get_dirname (_tmp24_);
			_tmp26_ = _tmp25_;
			gtk_file_chooser_set_current_folder ((GtkFileChooser*) _tmp23_, _tmp26_);
			_g_free0 (_tmp26_);
		}
		_g_free0 (filename);
		_g_object_unref0 (current_page);
	}
	_tmp27_ = file_chooser;
	gtk_file_chooser_set_select_multiple ((GtkFileChooser*) _tmp27_, TRUE);
	_tmp28_ = file_chooser;
	_tmp29_ = gtk_dialog_run ((GtkDialog*) _tmp28_);
	if (_tmp29_ == ((gint) GTK_RESPONSE_ACCEPT)) {
		GSList* file_names = NULL;
		GtkFileChooserDialog* _tmp30_ = NULL;
		GSList* _tmp31_ = NULL;
		GSList* _tmp32_ = NULL;
		_tmp30_ = file_chooser;
		_tmp31_ = gtk_file_chooser_get_filenames ((GtkFileChooser*) _tmp30_);
		file_names = _tmp31_;
		_tmp32_ = file_names;
		g_slist_foreach (_tmp32_, ____lambda19__gfunc, self);
		__g_slist_free__g_free0_0 (file_names);
	}
	_tmp33_ = file_chooser;
	gtk_widget_destroy ((GtkWidget*) _tmp33_);
	_g_object_unref0 (file_chooser);
}


static void _main_window_add_new_tab_from_file_simple_tab_view_drag_n_drop (SimpleTab* _sender, const gchar* file_name, gpointer self) {
	main_window_add_new_tab_from_file ((MainWindow*) self, file_name);
}


static void main_window_add_new_tab_from_file (MainWindow* self, const gchar* file_name) {
	const gchar* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	SimpleTab* tab_label = NULL;
	TextEditor* _tmp2_ = NULL;
	TextEditor* _tmp3_ = NULL;
	const gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	SimpleTab* _tmp8_ = NULL;
	SimpleTab* _tmp9_ = NULL;
	SimpleTab* _tmp10_ = NULL;
	SimpleTab* _tmp11_ = NULL;
	SimpleTab* current_page = NULL;
	SimpleTabBar* _tmp12_ = NULL;
	GtkStack* _tmp13_ = NULL;
	GtkWidget* _tmp14_ = NULL;
	GtkWidget* _tmp15_ = NULL;
	SimpleTab* _tmp16_ = NULL;
	gint page_num = 0;
	SimpleTabBar* _tmp17_ = NULL;
	SimpleTab* _tmp18_ = NULL;
	gint _tmp19_ = 0;
	SimpleHeaderBar* _tmp20_ = NULL;
	const gchar* _tmp21_ = NULL;
	const gchar* _tmp22_ = NULL;
	gchar* _tmp23_ = NULL;
	gint _tmp24_ = 0;
	SimpleStatusbar* _tmp25_ = NULL;
	const gchar* _tmp26_ = NULL;
	SimpleStatusbar* _tmp27_ = NULL;
	const gchar* _tmp28_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (file_name != NULL);
	_tmp0_ = file_name;
	_tmp1_ = main_window_file_is_opened (self, _tmp0_);
	if (_tmp1_) {
		main_window_check_pages (self);
		return;
	}
	_tmp2_ = main_window_get_editor (self);
	_tmp3_ = _tmp2_;
	_tmp4_ = file_name;
	_tmp5_ = g_path_get_basename (_tmp4_);
	_tmp6_ = _tmp5_;
	_tmp7_ = file_name;
	_tmp8_ = simple_tab_new_from_file (_tmp3_, _tmp6_, _tmp7_);
	g_object_ref_sink (_tmp8_);
	_tmp9_ = _tmp8_;
	_g_free0 (_tmp6_);
	tab_label = _tmp9_;
	_tmp10_ = tab_label;
	g_signal_connect_object (_tmp10_, "view-drag-n-drop", (GCallback) _main_window_add_new_tab_from_file_simple_tab_view_drag_n_drop, self, 0);
	_tmp11_ = tab_label;
	main_window_add_new_tab (self, _tmp11_);
	_tmp12_ = self->priv->tab_bar;
	_tmp13_ = self->priv->documents;
	_tmp14_ = gtk_stack_get_visible_child (_tmp13_);
	_tmp15_ = _tmp14_;
	_tmp16_ = simple_tab_bar_get_current_page (_tmp12_, _tmp15_);
	current_page = _tmp16_;
	_tmp17_ = self->priv->tab_bar;
	_tmp18_ = current_page;
	_tmp19_ = simple_tab_bar_get_page_num (_tmp17_, _tmp18_);
	page_num = _tmp19_;
	_tmp20_ = self->priv->headerbar;
	_tmp21_ = file_name;
	gtk_header_bar_set_title ((GtkHeaderBar*) _tmp20_, _tmp21_);
	_tmp22_ = file_name;
	_tmp23_ = g_strdup (_tmp22_);
	_tmp24_ = page_num;
	self->priv->opened_files = g_list_insert (self->priv->opened_files, _tmp23_, _tmp24_);
	_tmp25_ = self->priv->status;
	_tmp26_ = file_name;
	simple_statusbar_refresh_statusbar (_tmp25_, FILE_OPEARTION_OPEN_FILE, _tmp26_);
	_tmp27_ = self->priv->status;
	_tmp28_ = file_name;
	simple_statusbar_refresh_language (_tmp27_, _tmp28_);
	main_window_check_pages (self);
	_g_object_unref0 (current_page);
	_g_object_unref0 (tab_label);
}


static gboolean main_window_file_is_opened (MainWindow* self, const gchar* needle) {
	gboolean result = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (needle != NULL, FALSE);
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp0_ = FALSE;
			_tmp0_ = TRUE;
			while (TRUE) {
				gint _tmp2_ = 0;
				GList* _tmp3_ = NULL;
				guint _tmp4_ = 0U;
				const gchar* _tmp5_ = NULL;
				GList* _tmp6_ = NULL;
				gint _tmp7_ = 0;
				gconstpointer _tmp8_ = NULL;
				if (!_tmp0_) {
					gint _tmp1_ = 0;
					_tmp1_ = i;
					i = _tmp1_ + 1;
				}
				_tmp0_ = FALSE;
				_tmp2_ = i;
				_tmp3_ = self->priv->opened_files;
				_tmp4_ = g_list_length (_tmp3_);
				if (!(((guint) _tmp2_) < _tmp4_)) {
					break;
				}
				_tmp5_ = needle;
				_tmp6_ = self->priv->opened_files;
				_tmp7_ = i;
				_tmp8_ = g_list_nth_data (_tmp6_, (guint) _tmp7_);
				if (g_strcmp0 (_tmp5_, (const gchar*) _tmp8_) == 0) {
					result = TRUE;
					return result;
				}
			}
		}
	}
	result = FALSE;
	return result;
}


void main_window_save_tab_to_file (MainWindow* self) {
	GtkScrolledWindow* current_doc = NULL;
	GtkStack* _tmp0_ = NULL;
	GtkWidget* _tmp1_ = NULL;
	GtkWidget* _tmp2_ = NULL;
	GtkScrolledWindow* _tmp3_ = NULL;
	GtkScrolledWindow* _tmp4_ = NULL;
	GtkSourceView* view = NULL;
	GtkScrolledWindow* _tmp5_ = NULL;
	GtkWidget* _tmp6_ = NULL;
	GtkSourceView* _tmp7_ = NULL;
	SimpleTab* tab_label = NULL;
	SimpleTabBar* _tmp8_ = NULL;
	GtkScrolledWindow* _tmp9_ = NULL;
	SimpleTab* _tmp10_ = NULL;
	gint page_num = 0;
	SimpleTabBar* _tmp11_ = NULL;
	SimpleTab* _tmp12_ = NULL;
	gint _tmp13_ = 0;
	SimpleHeaderBar* _tmp14_ = NULL;
	const gchar* _tmp15_ = NULL;
	const gchar* _tmp16_ = NULL;
	const gchar* _tmp17_ = NULL;
	gboolean _tmp18_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->documents;
	_tmp1_ = gtk_stack_get_visible_child (_tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, gtk_scrolled_window_get_type ()) ? ((GtkScrolledWindow*) _tmp2_) : NULL);
	current_doc = _tmp3_;
	_tmp4_ = current_doc;
	if (_tmp4_ == NULL) {
		_g_object_unref0 (current_doc);
		return;
	}
	_tmp5_ = current_doc;
	_tmp6_ = gtk_bin_get_child ((GtkBin*) _tmp5_);
	_tmp7_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, gtk_source_view_get_type ()) ? ((GtkSourceView*) _tmp6_) : NULL);
	view = _tmp7_;
	_tmp8_ = self->priv->tab_bar;
	_tmp9_ = current_doc;
	_tmp10_ = simple_tab_bar_get_current_page (_tmp8_, (GtkWidget*) _tmp9_);
	tab_label = _tmp10_;
	_tmp11_ = self->priv->tab_bar;
	_tmp12_ = tab_label;
	_tmp13_ = simple_tab_bar_get_page_num (_tmp11_, _tmp12_);
	page_num = _tmp13_;
	_tmp14_ = self->priv->headerbar;
	_tmp15_ = gtk_header_bar_get_title ((GtkHeaderBar*) _tmp14_);
	_tmp16_ = _tmp15_;
	_tmp17_ = self->priv->untitled;
	_tmp18_ = string_contains (_tmp16_, _tmp17_);
	if (_tmp18_) {
		GtkSourceView* _tmp19_ = NULL;
		GtkTextBuffer* _tmp20_ = NULL;
		GtkTextBuffer* _tmp21_ = NULL;
		gchar* _tmp22_ = NULL;
		gchar* _tmp23_ = NULL;
		gchar* _tmp24_ = NULL;
		gboolean _tmp25_ = FALSE;
		GtkFileChooserDialog* file_chooser = NULL;
		const gchar* _tmp26_ = NULL;
		const gchar* _tmp27_ = NULL;
		const gchar* _tmp28_ = NULL;
		GtkFileChooserDialog* _tmp29_ = NULL;
		GtkFileChooserDialog* _tmp30_ = NULL;
		const gchar* _tmp31_ = NULL;
		ProgrammingLanguages* p_langs = NULL;
		ProgrammingLanguages* _tmp32_ = NULL;
		gchar* ext = NULL;
		ProgrammingLanguages* _tmp33_ = NULL;
		SimpleStatusbar* _tmp34_ = NULL;
		GtkLabel* _tmp35_ = NULL;
		GtkLabel* _tmp36_ = NULL;
		const gchar* _tmp37_ = NULL;
		const gchar* _tmp38_ = NULL;
		gchar* _tmp39_ = NULL;
		SimpleTab* current_page = NULL;
		SimpleTabBar* _tmp40_ = NULL;
		GtkStack* _tmp41_ = NULL;
		GtkWidget* _tmp42_ = NULL;
		GtkWidget* _tmp43_ = NULL;
		SimpleTab* _tmp44_ = NULL;
		gchar* filename = NULL;
		GList* _tmp45_ = NULL;
		SimpleTabBar* _tmp46_ = NULL;
		SimpleTab* _tmp47_ = NULL;
		gint _tmp48_ = 0;
		gconstpointer _tmp49_ = NULL;
		gchar* _tmp50_ = NULL;
		GtkFileChooserDialog* _tmp51_ = NULL;
		const gchar* _tmp52_ = NULL;
		gchar* _tmp53_ = NULL;
		gchar* _tmp54_ = NULL;
		const gchar* _tmp55_ = NULL;
		gchar* _tmp56_ = NULL;
		gchar* _tmp57_ = NULL;
		GtkFileChooserDialog* _tmp58_ = NULL;
		gint _tmp59_ = 0;
		GtkFileChooserDialog* _tmp86_ = NULL;
		_tmp19_ = view;
		_tmp20_ = gtk_text_view_get_buffer ((GtkTextView*) _tmp19_);
		_tmp21_ = _tmp20_;
		g_object_get (_tmp21_, "text", &_tmp22_, NULL);
		_tmp23_ = _tmp22_;
		_tmp24_ = _tmp23_;
		_tmp25_ = g_strcmp0 (_tmp24_, "") == 0;
		_g_free0 (_tmp24_);
		if (_tmp25_) {
			_g_object_unref0 (tab_label);
			_g_object_unref0 (view);
			_g_object_unref0 (current_doc);
			return;
		}
		_tmp26_ = _ ("Save File");
		_tmp27_ = _ ("Cancel");
		_tmp28_ = _ ("Save");
		_tmp29_ = (GtkFileChooserDialog*) gtk_file_chooser_dialog_new (_tmp26_, (GtkWindow*) self, GTK_FILE_CHOOSER_ACTION_SAVE, _tmp27_, GTK_RESPONSE_CANCEL, _tmp28_, GTK_RESPONSE_ACCEPT, NULL);
		g_object_ref_sink (_tmp29_);
		file_chooser = _tmp29_;
		_tmp30_ = file_chooser;
		_tmp31_ = g_get_home_dir ();
		gtk_file_chooser_set_current_folder ((GtkFileChooser*) _tmp30_, _tmp31_);
		_tmp32_ = programming_languages_new ();
		p_langs = _tmp32_;
		_tmp33_ = p_langs;
		_tmp34_ = self->priv->status;
		_tmp35_ = simple_statusbar_get_label (_tmp34_);
		_tmp36_ = _tmp35_;
		_tmp37_ = gtk_label_get_label (_tmp36_);
		_tmp38_ = _tmp37_;
		_tmp39_ = programming_languages_get_lang_ext (_tmp33_, _tmp38_);
		ext = _tmp39_;
		_tmp40_ = self->priv->tab_bar;
		_tmp41_ = self->priv->documents;
		_tmp42_ = gtk_stack_get_visible_child (_tmp41_);
		_tmp43_ = _tmp42_;
		_tmp44_ = simple_tab_bar_get_current_page (_tmp40_, _tmp43_);
		current_page = _tmp44_;
		_tmp45_ = self->priv->opened_files;
		_tmp46_ = self->priv->tab_bar;
		_tmp47_ = current_page;
		_tmp48_ = simple_tab_bar_get_page_num (_tmp46_, _tmp47_);
		_tmp49_ = g_list_nth_data (_tmp45_, (guint) _tmp48_);
		_tmp50_ = g_strdup ((const gchar*) _tmp49_);
		filename = _tmp50_;
		_tmp51_ = file_chooser;
		_tmp52_ = filename;
		_tmp53_ = g_path_get_basename (_tmp52_);
		_tmp54_ = _tmp53_;
		_tmp55_ = ext;
		_tmp56_ = g_strconcat (_tmp54_, _tmp55_, NULL);
		_tmp57_ = _tmp56_;
		gtk_file_chooser_set_current_name ((GtkFileChooser*) _tmp51_, _tmp57_);
		_g_free0 (_tmp57_);
		_g_free0 (_tmp54_);
		_tmp58_ = file_chooser;
		_tmp59_ = gtk_dialog_run ((GtkDialog*) _tmp58_);
		switch (_tmp59_) {
			default:
			{
				break;
			}
			case GTK_RESPONSE_ACCEPT:
			{
				SimpleTab* _tmp60_ = NULL;
				GtkFileChooserDialog* _tmp61_ = NULL;
				GFile* _tmp62_ = NULL;
				GFile* _tmp63_ = NULL;
				gchar* _tmp64_ = NULL;
				gchar* _tmp65_ = NULL;
				SimpleHeaderBar* _tmp66_ = NULL;
				GtkFileChooserDialog* _tmp67_ = NULL;
				gchar* _tmp68_ = NULL;
				gchar* _tmp69_ = NULL;
				GtkSourceView* _tmp70_ = NULL;
				GtkFileChooserDialog* _tmp71_ = NULL;
				gchar* _tmp72_ = NULL;
				gchar* _tmp73_ = NULL;
				SimpleTab* _tmp74_ = NULL;
				GList* _tmp75_ = NULL;
				gint _tmp76_ = 0;
				gconstpointer _tmp77_ = NULL;
				GtkFileChooserDialog* _tmp78_ = NULL;
				gchar* _tmp79_ = NULL;
				gint _tmp80_ = 0;
				SimpleStatusbar* _tmp81_ = NULL;
				GtkFileChooserDialog* _tmp82_ = NULL;
				gchar* _tmp83_ = NULL;
				gchar* _tmp84_ = NULL;
				SimpleTab* _tmp85_ = NULL;
				_tmp60_ = tab_label;
				_tmp61_ = file_chooser;
				_tmp62_ = gtk_file_chooser_get_file ((GtkFileChooser*) _tmp61_);
				_tmp63_ = _tmp62_;
				_tmp64_ = g_file_get_basename (_tmp63_);
				_tmp65_ = _tmp64_;
				simple_tab_set_tab_title (_tmp60_, _tmp65_);
				_g_free0 (_tmp65_);
				_g_object_unref0 (_tmp63_);
				_tmp66_ = self->priv->headerbar;
				_tmp67_ = file_chooser;
				_tmp68_ = gtk_file_chooser_get_filename ((GtkFileChooser*) _tmp67_);
				_tmp69_ = _tmp68_;
				gtk_header_bar_set_title ((GtkHeaderBar*) _tmp66_, _tmp69_);
				_g_free0 (_tmp69_);
				_tmp70_ = view;
				_tmp71_ = file_chooser;
				_tmp72_ = gtk_file_chooser_get_filename ((GtkFileChooser*) _tmp71_);
				_tmp73_ = _tmp72_;
				main_window_save_file (self, _tmp70_, _tmp73_);
				_g_free0 (_tmp73_);
				_tmp74_ = tab_label;
				simple_tab_mark_title (_tmp74_);
				_tmp75_ = self->priv->opened_files;
				_tmp76_ = page_num;
				_tmp77_ = g_list_nth_data (_tmp75_, (guint) _tmp76_);
				self->priv->opened_files = g_list_remove (self->priv->opened_files, (const gchar*) _tmp77_);
				_tmp78_ = file_chooser;
				_tmp79_ = gtk_file_chooser_get_filename ((GtkFileChooser*) _tmp78_);
				_tmp80_ = page_num;
				self->priv->opened_files = g_list_insert (self->priv->opened_files, _tmp79_, _tmp80_);
				_tmp81_ = self->priv->status;
				_tmp82_ = file_chooser;
				_tmp83_ = gtk_file_chooser_get_filename ((GtkFileChooser*) _tmp82_);
				_tmp84_ = _tmp83_;
				simple_statusbar_refresh_language (_tmp81_, _tmp84_);
				_g_free0 (_tmp84_);
				_tmp85_ = tab_label;
				main_window_reset_changes (self, _tmp85_);
				break;
			}
		}
		_tmp86_ = file_chooser;
		gtk_widget_destroy ((GtkWidget*) _tmp86_);
		_g_free0 (filename);
		_g_object_unref0 (current_page);
		_g_free0 (ext);
		_programming_languages_unref0 (p_langs);
		_g_object_unref0 (file_chooser);
	} else {
		SimpleTab* _tmp87_ = NULL;
		const gchar* _tmp88_ = NULL;
		const gchar* _tmp89_ = NULL;
		gboolean _tmp90_ = FALSE;
		_tmp87_ = tab_label;
		_tmp88_ = simple_tab_get_tab_title (_tmp87_);
		_tmp89_ = _tmp88_;
		_tmp90_ = string_contains (_tmp89_, "*");
		if (_tmp90_) {
			gchar* file_name = NULL;
			GList* _tmp91_ = NULL;
			gint _tmp92_ = 0;
			gconstpointer _tmp93_ = NULL;
			gchar* _tmp94_ = NULL;
			GtkSourceView* _tmp95_ = NULL;
			const gchar* _tmp96_ = NULL;
			SimpleTab* _tmp97_ = NULL;
			_tmp91_ = self->priv->opened_files;
			_tmp92_ = page_num;
			_tmp93_ = g_list_nth_data (_tmp91_, (guint) _tmp92_);
			_tmp94_ = g_strdup ((const gchar*) _tmp93_);
			file_name = _tmp94_;
			_tmp95_ = view;
			_tmp96_ = file_name;
			main_window_save_file (self, _tmp95_, _tmp96_);
			_tmp97_ = tab_label;
			main_window_reset_changes (self, _tmp97_);
			_g_free0 (file_name);
		}
	}
	_g_object_unref0 (tab_label);
	_g_object_unref0 (view);
	_g_object_unref0 (current_doc);
}


static void main_window_save_as_cb (MainWindow* self) {
	GtkStack* _tmp0_ = NULL;
	GtkWidget* _tmp1_ = NULL;
	GtkWidget* _tmp2_ = NULL;
	SimpleTab* current_page = NULL;
	SimpleTabBar* _tmp3_ = NULL;
	GtkStack* _tmp4_ = NULL;
	GtkWidget* _tmp5_ = NULL;
	GtkWidget* _tmp6_ = NULL;
	SimpleTab* _tmp7_ = NULL;
	gchar* filename = NULL;
	GList* _tmp8_ = NULL;
	SimpleTabBar* _tmp9_ = NULL;
	SimpleTab* _tmp10_ = NULL;
	gint _tmp11_ = 0;
	gconstpointer _tmp12_ = NULL;
	gchar* _tmp13_ = NULL;
	gint page_num = 0;
	SimpleTabBar* _tmp14_ = NULL;
	SimpleTab* _tmp15_ = NULL;
	gint _tmp16_ = 0;
	GtkSourceView* view = NULL;
	SimpleTab* _tmp17_ = NULL;
	SimpleSourceView* _tmp18_ = NULL;
	SimpleSourceView* _tmp19_ = NULL;
	GtkSourceView* _tmp20_ = NULL;
	gboolean _tmp21_ = FALSE;
	const gchar* _tmp22_ = NULL;
	const gchar* _tmp23_ = NULL;
	gboolean _tmp24_ = FALSE;
	GtkFileChooserDialog* file_chooser = NULL;
	const gchar* _tmp31_ = NULL;
	const gchar* _tmp32_ = NULL;
	const gchar* _tmp33_ = NULL;
	GtkFileChooserDialog* _tmp34_ = NULL;
	GtkFileChooserDialog* _tmp35_ = NULL;
	const gchar* _tmp36_ = NULL;
	gchar* _tmp37_ = NULL;
	gchar* _tmp38_ = NULL;
	const gchar* _tmp39_ = NULL;
	const gchar* _tmp40_ = NULL;
	gboolean _tmp41_ = FALSE;
	GtkFileChooserDialog* _tmp48_ = NULL;
	gint _tmp49_ = 0;
	GtkFileChooserDialog* _tmp76_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->documents;
	_tmp1_ = gtk_stack_get_visible_child (_tmp0_);
	_tmp2_ = _tmp1_;
	if (_tmp2_ == NULL) {
		return;
	}
	_tmp3_ = self->priv->tab_bar;
	_tmp4_ = self->priv->documents;
	_tmp5_ = gtk_stack_get_visible_child (_tmp4_);
	_tmp6_ = _tmp5_;
	_tmp7_ = simple_tab_bar_get_current_page (_tmp3_, _tmp6_);
	current_page = _tmp7_;
	_tmp8_ = self->priv->opened_files;
	_tmp9_ = self->priv->tab_bar;
	_tmp10_ = current_page;
	_tmp11_ = simple_tab_bar_get_page_num (_tmp9_, _tmp10_);
	_tmp12_ = g_list_nth_data (_tmp8_, (guint) _tmp11_);
	_tmp13_ = g_strdup ((const gchar*) _tmp12_);
	filename = _tmp13_;
	_tmp14_ = self->priv->tab_bar;
	_tmp15_ = current_page;
	_tmp16_ = simple_tab_bar_get_page_num (_tmp14_, _tmp15_);
	page_num = _tmp16_;
	_tmp17_ = current_page;
	_tmp18_ = simple_tab_get_text_view (_tmp17_);
	_tmp19_ = _tmp18_;
	_tmp20_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp19_, gtk_source_view_get_type ()) ? ((GtkSourceView*) _tmp19_) : NULL);
	view = _tmp20_;
	_tmp22_ = filename;
	_tmp23_ = self->priv->untitled;
	_tmp24_ = string_contains (_tmp22_, _tmp23_);
	if (_tmp24_) {
		GtkSourceView* _tmp25_ = NULL;
		GtkTextBuffer* _tmp26_ = NULL;
		GtkTextBuffer* _tmp27_ = NULL;
		gchar* _tmp28_ = NULL;
		gchar* _tmp29_ = NULL;
		gchar* _tmp30_ = NULL;
		_tmp25_ = view;
		_tmp26_ = gtk_text_view_get_buffer ((GtkTextView*) _tmp25_);
		_tmp27_ = _tmp26_;
		g_object_get (_tmp27_, "text", &_tmp28_, NULL);
		_tmp29_ = _tmp28_;
		_tmp30_ = _tmp29_;
		_tmp21_ = g_strcmp0 (_tmp30_, "") == 0;
		_g_free0 (_tmp30_);
	} else {
		_tmp21_ = FALSE;
	}
	if (_tmp21_) {
		_g_object_unref0 (view);
		_g_free0 (filename);
		_g_object_unref0 (current_page);
		return;
	}
	_tmp31_ = _ ("Save File");
	_tmp32_ = _ ("Cancel");
	_tmp33_ = _ ("Save");
	_tmp34_ = (GtkFileChooserDialog*) gtk_file_chooser_dialog_new (_tmp31_, (GtkWindow*) self, GTK_FILE_CHOOSER_ACTION_SAVE, _tmp32_, GTK_RESPONSE_CANCEL, _tmp33_, GTK_RESPONSE_ACCEPT, NULL);
	g_object_ref_sink (_tmp34_);
	file_chooser = _tmp34_;
	_tmp35_ = file_chooser;
	_tmp36_ = filename;
	_tmp37_ = g_path_get_basename (_tmp36_);
	_tmp38_ = _tmp37_;
	gtk_file_chooser_set_current_name ((GtkFileChooser*) _tmp35_, _tmp38_);
	_g_free0 (_tmp38_);
	_tmp39_ = filename;
	_tmp40_ = self->priv->untitled;
	_tmp41_ = string_contains (_tmp39_, _tmp40_);
	if (_tmp41_) {
		GtkFileChooserDialog* _tmp42_ = NULL;
		const gchar* _tmp43_ = NULL;
		_tmp42_ = file_chooser;
		_tmp43_ = g_get_home_dir ();
		gtk_file_chooser_set_current_folder ((GtkFileChooser*) _tmp42_, _tmp43_);
	} else {
		GtkFileChooserDialog* _tmp44_ = NULL;
		const gchar* _tmp45_ = NULL;
		gchar* _tmp46_ = NULL;
		gchar* _tmp47_ = NULL;
		_tmp44_ = file_chooser;
		_tmp45_ = filename;
		_tmp46_ = g_path_get_dirname (_tmp45_);
		_tmp47_ = _tmp46_;
		gtk_file_chooser_set_current_folder ((GtkFileChooser*) _tmp44_, _tmp47_);
		_g_free0 (_tmp47_);
	}
	_tmp48_ = file_chooser;
	_tmp49_ = gtk_dialog_run ((GtkDialog*) _tmp48_);
	switch (_tmp49_) {
		case GTK_RESPONSE_ACCEPT:
		{
			SimpleTab* _tmp50_ = NULL;
			GtkFileChooserDialog* _tmp51_ = NULL;
			GFile* _tmp52_ = NULL;
			GFile* _tmp53_ = NULL;
			gchar* _tmp54_ = NULL;
			gchar* _tmp55_ = NULL;
			SimpleHeaderBar* _tmp56_ = NULL;
			GtkFileChooserDialog* _tmp57_ = NULL;
			gchar* _tmp58_ = NULL;
			gchar* _tmp59_ = NULL;
			GtkSourceView* _tmp60_ = NULL;
			GtkFileChooserDialog* _tmp61_ = NULL;
			gchar* _tmp62_ = NULL;
			gchar* _tmp63_ = NULL;
			SimpleTab* _tmp64_ = NULL;
			GList* _tmp65_ = NULL;
			gint _tmp66_ = 0;
			gconstpointer _tmp67_ = NULL;
			GtkFileChooserDialog* _tmp68_ = NULL;
			gchar* _tmp69_ = NULL;
			gint _tmp70_ = 0;
			SimpleStatusbar* _tmp71_ = NULL;
			GtkFileChooserDialog* _tmp72_ = NULL;
			gchar* _tmp73_ = NULL;
			gchar* _tmp74_ = NULL;
			SimpleTab* _tmp75_ = NULL;
			_tmp50_ = current_page;
			_tmp51_ = file_chooser;
			_tmp52_ = gtk_file_chooser_get_file ((GtkFileChooser*) _tmp51_);
			_tmp53_ = _tmp52_;
			_tmp54_ = g_file_get_basename (_tmp53_);
			_tmp55_ = _tmp54_;
			simple_tab_set_tab_title (_tmp50_, _tmp55_);
			_g_free0 (_tmp55_);
			_g_object_unref0 (_tmp53_);
			_tmp56_ = self->priv->headerbar;
			_tmp57_ = file_chooser;
			_tmp58_ = gtk_file_chooser_get_filename ((GtkFileChooser*) _tmp57_);
			_tmp59_ = _tmp58_;
			gtk_header_bar_set_title ((GtkHeaderBar*) _tmp56_, _tmp59_);
			_g_free0 (_tmp59_);
			_tmp60_ = view;
			_tmp61_ = file_chooser;
			_tmp62_ = gtk_file_chooser_get_filename ((GtkFileChooser*) _tmp61_);
			_tmp63_ = _tmp62_;
			main_window_save_file (self, _tmp60_, _tmp63_);
			_g_free0 (_tmp63_);
			_tmp64_ = current_page;
			simple_tab_mark_title (_tmp64_);
			_tmp65_ = self->priv->opened_files;
			_tmp66_ = page_num;
			_tmp67_ = g_list_nth_data (_tmp65_, (guint) _tmp66_);
			self->priv->opened_files = g_list_remove (self->priv->opened_files, (const gchar*) _tmp67_);
			_tmp68_ = file_chooser;
			_tmp69_ = gtk_file_chooser_get_filename ((GtkFileChooser*) _tmp68_);
			_tmp70_ = page_num;
			self->priv->opened_files = g_list_insert (self->priv->opened_files, _tmp69_, _tmp70_);
			_tmp71_ = self->priv->status;
			_tmp72_ = file_chooser;
			_tmp73_ = gtk_file_chooser_get_filename ((GtkFileChooser*) _tmp72_);
			_tmp74_ = _tmp73_;
			simple_statusbar_refresh_language (_tmp71_, _tmp74_);
			_g_free0 (_tmp74_);
			_tmp75_ = current_page;
			main_window_reset_changes (self, _tmp75_);
			break;
		}
		default:
		{
			break;
		}
	}
	_tmp76_ = file_chooser;
	gtk_widget_destroy ((GtkWidget*) _tmp76_);
	_g_object_unref0 (file_chooser);
	_g_object_unref0 (view);
	_g_free0 (filename);
	_g_object_unref0 (current_page);
}


void main_window_new_tab_cb (MainWindow* self) {
	const gchar* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gchar* _tmp2_ = NULL;
	SimpleTab* tab = NULL;
	TextEditor* _tmp3_ = NULL;
	TextEditor* _tmp4_ = NULL;
	SimpleTab* _tmp5_ = NULL;
	SimpleStatusbar* _tmp6_ = NULL;
	SimpleStatusbar* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->untitled;
	_tmp1_ = self->priv->counter;
	_tmp2_ = g_strdup_printf ("%s %d", _tmp0_, _tmp1_ + 1);
	self->priv->opened_files = g_list_append (self->priv->opened_files, _tmp2_);
	_tmp3_ = main_window_get_editor (self);
	_tmp4_ = _tmp3_;
	_tmp5_ = simple_tab_new (_tmp4_);
	g_object_ref_sink (_tmp5_);
	tab = _tmp5_;
	g_signal_connect_object (tab, "view-drag-n-drop", (GCallback) _main_window_add_new_tab_from_file_simple_tab_view_drag_n_drop, self, 0);
	main_window_add_new_tab (self, tab);
	_tmp6_ = self->priv->status;
	simple_statusbar_refresh_statusbar (_tmp6_, FILE_OPEARTION_NEW_FILE, NULL);
	_tmp7_ = self->priv->status;
	_tmp8_ = self->priv->untitled;
	simple_statusbar_refresh_language (_tmp7_, _tmp8_);
	_g_object_unref0 (tab);
}


void main_window_build_code (MainWindow* self) {
	SimpleStatusbar* _tmp0_ = NULL;
	SimpleTab* current_page = NULL;
	SimpleTabBar* _tmp1_ = NULL;
	GtkStack* _tmp2_ = NULL;
	GtkWidget* _tmp3_ = NULL;
	GtkWidget* _tmp4_ = NULL;
	SimpleTab* _tmp5_ = NULL;
	gint page_num = 0;
	SimpleTabBar* _tmp6_ = NULL;
	SimpleTab* _tmp7_ = NULL;
	gint _tmp8_ = 0;
	gchar* file_name = NULL;
	GList* _tmp9_ = NULL;
	gint _tmp10_ = 0;
	gconstpointer _tmp11_ = NULL;
	gchar* _tmp12_ = NULL;
	gchar* directory = NULL;
	const gchar* _tmp13_ = NULL;
	gchar* _tmp14_ = NULL;
	FileOpeartion build_status = 0;
	GtkDialog* build_dialog = NULL;
	GtkLabel* build_message = NULL;
	gint exe = 0;
	const gchar* _tmp15_ = NULL;
	gchar* _tmp16_ = NULL;
	gchar* _tmp17_ = NULL;
	gchar* _tmp18_ = NULL;
	gchar* _tmp19_ = NULL;
	gint _tmp20_ = 0;
	gint _tmp21_ = 0;
	gint _tmp22_ = 0;
	GtkLabel* _tmp31_ = NULL;
	const gchar* _tmp32_ = NULL;
	const gchar* _tmp33_ = NULL;
	GtkDialog* _tmp34_ = NULL;
	GtkBox* content = NULL;
	GtkBox* _tmp35_ = NULL;
	GtkBox* _tmp36_ = NULL;
	GtkLabel* _tmp37_ = NULL;
	SimpleStatusbar* _tmp38_ = NULL;
	FileOpeartion _tmp39_ = 0;
	g_return_if_fail (self != NULL);
	main_window_save_tab_to_file (self);
	_tmp0_ = self->priv->status;
	simple_statusbar_refresh_statusbar (_tmp0_, FILE_OPEARTION_BUILD_FILE, NULL);
	_tmp1_ = self->priv->tab_bar;
	_tmp2_ = self->priv->documents;
	_tmp3_ = gtk_stack_get_visible_child (_tmp2_);
	_tmp4_ = _tmp3_;
	_tmp5_ = simple_tab_bar_get_current_page (_tmp1_, _tmp4_);
	current_page = _tmp5_;
	_tmp6_ = self->priv->tab_bar;
	_tmp7_ = current_page;
	_tmp8_ = simple_tab_bar_get_page_num (_tmp6_, _tmp7_);
	page_num = _tmp8_;
	_tmp9_ = self->priv->opened_files;
	_tmp10_ = page_num;
	_tmp11_ = g_list_nth_data (_tmp9_, (guint) _tmp10_);
	_tmp12_ = g_strdup ((const gchar*) _tmp11_);
	file_name = _tmp12_;
	_tmp13_ = file_name;
	_tmp14_ = g_path_get_dirname (_tmp13_);
	directory = _tmp14_;
	_tmp15_ = directory;
	_tmp16_ = g_strconcat ("cd \"", _tmp15_, NULL);
	_tmp17_ = _tmp16_;
	_tmp18_ = g_strconcat (_tmp17_, "\" && make", NULL);
	_tmp19_ = _tmp18_;
	_tmp20_ = system (_tmp19_);
	_tmp21_ = _tmp20_;
	_g_free0 (_tmp19_);
	_g_free0 (_tmp17_);
	exe = _tmp21_;
	_tmp22_ = exe;
	if (_tmp22_ == 0) {
		const gchar* _tmp23_ = NULL;
		gchar* _tmp24_ = NULL;
		gchar* _tmp25_ = NULL;
		GtkLabel* _tmp26_ = NULL;
		_tmp23_ = _ ("Build successful!");
		_tmp24_ = g_strconcat ("Make: ", _tmp23_, NULL);
		_tmp25_ = _tmp24_;
		_tmp26_ = (GtkLabel*) gtk_label_new (_tmp25_);
		g_object_ref_sink (_tmp26_);
		_g_object_unref0 (build_message);
		build_message = _tmp26_;
		_g_free0 (_tmp25_);
		build_status = FILE_OPEARTION_BUILD_DONE;
	} else {
		const gchar* _tmp27_ = NULL;
		gchar* _tmp28_ = NULL;
		gchar* _tmp29_ = NULL;
		GtkLabel* _tmp30_ = NULL;
		_tmp27_ = _ ("An error has occurred!");
		_tmp28_ = g_strconcat ("Make: ", _tmp27_, NULL);
		_tmp29_ = _tmp28_;
		_tmp30_ = (GtkLabel*) gtk_label_new (_tmp29_);
		g_object_ref_sink (_tmp30_);
		_g_object_unref0 (build_message);
		build_message = _tmp30_;
		_g_free0 (_tmp29_);
		build_status = FILE_OPEARTION_BUILD_FAIL;
	}
	_tmp31_ = build_message;
	gtk_widget_show ((GtkWidget*) _tmp31_);
	_tmp32_ = _ ("Build system");
	_tmp33_ = _ ("Accept");
	_tmp34_ = (GtkDialog*) gtk_dialog_new_with_buttons (_tmp32_, (GtkWindow*) self, GTK_DIALOG_MODAL, _tmp33_, GTK_RESPONSE_ACCEPT, NULL, NULL);
	g_object_ref_sink (_tmp34_);
	_g_object_unref0 (build_dialog);
	build_dialog = _tmp34_;
	_tmp35_ = (GtkBox*) gtk_dialog_get_content_area (build_dialog);
	_tmp36_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp35_, gtk_box_get_type ()) ? ((GtkBox*) _tmp35_) : NULL);
	content = _tmp36_;
	_tmp37_ = build_message;
	gtk_box_pack_start (content, (GtkWidget*) _tmp37_, TRUE, TRUE, (guint) 10);
	gtk_container_set_border_width ((GtkContainer*) build_dialog, (guint) 10);
	gtk_dialog_run (build_dialog);
	gtk_widget_destroy ((GtkWidget*) build_dialog);
	_tmp38_ = self->priv->status;
	_tmp39_ = build_status;
	simple_statusbar_refresh_statusbar (_tmp38_, _tmp39_, NULL);
	_g_object_unref0 (content);
	_g_object_unref0 (build_message);
	_g_object_unref0 (build_dialog);
	_g_free0 (directory);
	_g_free0 (file_name);
	_g_object_unref0 (current_page);
}


static void main_window_re_open_cb (MainWindow* self) {
	GArray* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
	gchar* last_file_path = NULL;
	GArray* _tmp2_ = NULL;
	gpointer* _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	GArray* _tmp4_ = NULL;
	guint _tmp5_ = 0U;
	const gchar* _tmp6_ = NULL;
	gchar* _tmp7_ = NULL;
	gchar* last_file_basename = NULL;
	const gchar* _tmp8_ = NULL;
	GFile* _tmp9_ = NULL;
	GFile* _tmp10_ = NULL;
	gchar* _tmp11_ = NULL;
	gchar* _tmp12_ = NULL;
	GArray* _tmp13_ = NULL;
	GArray* _tmp14_ = NULL;
	guint _tmp15_ = 0U;
	SimpleTab* tab_label = NULL;
	TextEditor* _tmp16_ = NULL;
	TextEditor* _tmp17_ = NULL;
	const gchar* _tmp18_ = NULL;
	const gchar* _tmp19_ = NULL;
	SimpleTab* _tmp20_ = NULL;
	SimpleTab* _tmp21_ = NULL;
	SimpleTab* _tmp22_ = NULL;
	SimpleTab* current_page = NULL;
	SimpleTabBar* _tmp23_ = NULL;
	GtkStack* _tmp24_ = NULL;
	GtkWidget* _tmp25_ = NULL;
	GtkWidget* _tmp26_ = NULL;
	SimpleTab* _tmp27_ = NULL;
	gint page_num = 0;
	SimpleTabBar* _tmp28_ = NULL;
	SimpleTab* _tmp29_ = NULL;
	gint _tmp30_ = 0;
	SimpleHeaderBar* _tmp31_ = NULL;
	const gchar* _tmp32_ = NULL;
	const gchar* _tmp33_ = NULL;
	gchar* _tmp34_ = NULL;
	gint _tmp35_ = 0;
	gchar* f_name = NULL;
	GList* _tmp36_ = NULL;
	gint _tmp37_ = 0;
	gconstpointer _tmp38_ = NULL;
	gchar* _tmp39_ = NULL;
	SimpleStatusbar* _tmp40_ = NULL;
	const gchar* _tmp41_ = NULL;
	SimpleStatusbar* _tmp42_ = NULL;
	const gchar* _tmp43_ = NULL;
	SimpleTabBar* _tmp44_ = NULL;
	GtkStack* _tmp45_ = NULL;
	GtkWidget* _tmp46_ = NULL;
	GtkWidget* _tmp47_ = NULL;
	SimpleTab* _tmp48_ = NULL;
	ProgrammingLanguages* p_langs = NULL;
	ProgrammingLanguages* _tmp49_ = NULL;
	SimpleHeaderBar* _tmp50_ = NULL;
	ProgrammingLanguages* _tmp51_ = NULL;
	SimpleTab* _tmp52_ = NULL;
	const gchar* _tmp53_ = NULL;
	const gchar* _tmp54_ = NULL;
	gboolean _tmp55_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->closed_files;
	_tmp1_ = _tmp0_->len;
	if (_tmp1_ == ((guint) 0)) {
		return;
	}
	_tmp2_ = self->priv->closed_files;
	_tmp3_ = _tmp2_->data;
	_tmp3__length1 = (gint) _tmp2_->len;
	_tmp4_ = self->priv->closed_files;
	_tmp5_ = _tmp4_->len;
	_tmp6_ = _tmp3_[_tmp5_ - 1];
	_tmp7_ = g_strdup (_tmp6_);
	last_file_path = _tmp7_;
	_tmp8_ = last_file_path;
	_tmp9_ = g_file_new_for_path (_tmp8_);
	_tmp10_ = _tmp9_;
	_tmp11_ = g_file_get_basename (_tmp10_);
	_tmp12_ = _tmp11_;
	_g_object_unref0 (_tmp10_);
	last_file_basename = _tmp12_;
	_tmp13_ = self->priv->closed_files;
	_tmp14_ = self->priv->closed_files;
	_tmp15_ = _tmp14_->len;
	g_array_remove_index (_tmp13_, _tmp15_ - 1);
	_tmp16_ = main_window_get_editor (self);
	_tmp17_ = _tmp16_;
	_tmp18_ = last_file_basename;
	_tmp19_ = last_file_path;
	_tmp20_ = simple_tab_new_from_file (_tmp17_, _tmp18_, _tmp19_);
	g_object_ref_sink (_tmp20_);
	tab_label = _tmp20_;
	_tmp21_ = tab_label;
	g_signal_connect_object (_tmp21_, "view-drag-n-drop", (GCallback) _main_window_add_new_tab_from_file_simple_tab_view_drag_n_drop, self, 0);
	_tmp22_ = tab_label;
	main_window_add_new_tab (self, _tmp22_);
	_tmp23_ = self->priv->tab_bar;
	_tmp24_ = self->priv->documents;
	_tmp25_ = gtk_stack_get_visible_child (_tmp24_);
	_tmp26_ = _tmp25_;
	_tmp27_ = simple_tab_bar_get_current_page (_tmp23_, _tmp26_);
	current_page = _tmp27_;
	_tmp28_ = self->priv->tab_bar;
	_tmp29_ = current_page;
	_tmp30_ = simple_tab_bar_get_page_num (_tmp28_, _tmp29_);
	page_num = _tmp30_;
	_tmp31_ = self->priv->headerbar;
	_tmp32_ = last_file_basename;
	gtk_header_bar_set_title ((GtkHeaderBar*) _tmp31_, _tmp32_);
	_tmp33_ = last_file_basename;
	_tmp34_ = g_strdup (_tmp33_);
	_tmp35_ = page_num;
	self->priv->opened_files = g_list_insert (self->priv->opened_files, _tmp34_, _tmp35_);
	_tmp36_ = self->priv->opened_files;
	_tmp37_ = page_num;
	_tmp38_ = g_list_nth_data (_tmp36_, (guint) _tmp37_);
	_tmp39_ = g_strdup ((const gchar*) _tmp38_);
	f_name = _tmp39_;
	_tmp40_ = self->priv->status;
	_tmp41_ = f_name;
	simple_statusbar_refresh_statusbar (_tmp40_, FILE_OPEARTION_OPEN_FILE, _tmp41_);
	_tmp42_ = self->priv->status;
	_tmp43_ = f_name;
	simple_statusbar_refresh_language (_tmp42_, _tmp43_);
	_tmp44_ = self->priv->tab_bar;
	_tmp45_ = self->priv->documents;
	_tmp46_ = gtk_stack_get_visible_child (_tmp45_);
	_tmp47_ = _tmp46_;
	_tmp48_ = simple_tab_bar_get_current_page (_tmp44_, _tmp47_);
	_g_object_unref0 (current_page);
	current_page = _tmp48_;
	_tmp49_ = programming_languages_new ();
	p_langs = _tmp49_;
	_tmp50_ = self->priv->headerbar;
	_tmp51_ = p_langs;
	_tmp52_ = current_page;
	_tmp53_ = simple_tab_get_tab_title (_tmp52_);
	_tmp54_ = _tmp53_;
	_tmp55_ = programming_languages_is_buildable (_tmp51_, _tmp54_);
	simple_header_bar_set_buildable (_tmp50_, _tmp55_);
	main_window_check_pages (self);
	_programming_languages_unref0 (p_langs);
	_g_free0 (f_name);
	_g_object_unref0 (current_page);
	_g_object_unref0 (tab_label);
	_g_free0 (last_file_basename);
	_g_free0 (last_file_path);
}


static void main_window_search_mode_cb (MainWindow* self) {
	GtkSearchBar* _tmp0_ = NULL;
	GtkSearchBar* _tmp1_ = NULL;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->search_bar;
	_tmp1_ = self->priv->search_bar;
	g_object_get (_tmp1_, "search-mode-enabled", &_tmp2_, NULL);
	_tmp3_ = _tmp2_;
	g_object_set (_tmp0_, "search-mode-enabled", !_tmp3_, NULL);
}


static void main_window_close_tab_cb (MainWindow* self) {
	SimpleTab* current_page = NULL;
	SimpleTabBar* _tmp0_ = NULL;
	GtkStack* _tmp1_ = NULL;
	GtkWidget* _tmp2_ = NULL;
	GtkWidget* _tmp3_ = NULL;
	SimpleTab* _tmp4_ = NULL;
	SimpleTab* _tmp5_ = NULL;
	gboolean _tmp6_ = FALSE;
	SimpleTabBar* _tmp9_ = NULL;
	GtkStack* _tmp10_ = NULL;
	GtkWidget* _tmp11_ = NULL;
	GtkWidget* _tmp12_ = NULL;
	SimpleTab* _tmp13_ = NULL;
	ProgrammingLanguages* p_langs = NULL;
	ProgrammingLanguages* _tmp14_ = NULL;
	SimpleHeaderBar* _tmp15_ = NULL;
	SimpleTab* _tmp16_ = NULL;
	const gchar* _tmp17_ = NULL;
	const gchar* _tmp18_ = NULL;
	gboolean _tmp19_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->tab_bar;
	_tmp1_ = self->priv->documents;
	_tmp2_ = gtk_stack_get_visible_child (_tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = simple_tab_bar_get_current_page (_tmp0_, _tmp3_);
	current_page = _tmp4_;
	_tmp5_ = current_page;
	_tmp6_ = main_window_confirm_close (self, _tmp5_);
	if (_tmp6_) {
		SimpleTabBar* _tmp7_ = NULL;
		SimpleTab* _tmp8_ = NULL;
		_tmp7_ = self->priv->tab_bar;
		_tmp8_ = current_page;
		simple_tab_bar_close_page (_tmp7_, _tmp8_);
	}
	_tmp9_ = self->priv->tab_bar;
	_tmp10_ = self->priv->documents;
	_tmp11_ = gtk_stack_get_visible_child (_tmp10_);
	_tmp12_ = _tmp11_;
	_tmp13_ = simple_tab_bar_get_current_page (_tmp9_, _tmp12_);
	_g_object_unref0 (current_page);
	current_page = _tmp13_;
	_tmp14_ = programming_languages_new ();
	p_langs = _tmp14_;
	_tmp15_ = self->priv->headerbar;
	_tmp16_ = current_page;
	_tmp17_ = simple_tab_get_tab_title (_tmp16_);
	_tmp18_ = _tmp17_;
	_tmp19_ = programming_languages_is_buildable (p_langs, _tmp18_);
	simple_header_bar_set_buildable (_tmp15_, _tmp19_);
	_programming_languages_unref0 (p_langs);
	_g_object_unref0 (current_page);
}


static void main_window_on_page_close (MainWindow* self, SimpleTab* tab, gint page_num) {
	gchar* f_name = NULL;
	GList* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gconstpointer _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	SimpleStatusbar* _tmp4_ = NULL;
	const gchar* _tmp5_ = NULL;
	const gchar* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	gboolean _tmp8_ = FALSE;
	GList* _tmp12_ = NULL;
	gint _tmp13_ = 0;
	gconstpointer _tmp14_ = NULL;
	SimpleStatusbar* _tmp15_ = NULL;
	GList* _tmp16_ = NULL;
	gint _tmp17_ = 0;
	gconstpointer _tmp18_ = NULL;
	SimpleTabBar* _tmp19_ = NULL;
	SimpleTab* _tmp20_ = NULL;
	SimpleTab* _tmp21_ = NULL;
	GtkScrolledWindow* _tmp22_ = NULL;
	GtkScrolledWindow* _tmp23_ = NULL;
	SimpleTab* _tmp24_ = NULL;
	SimpleTabBar* _tmp25_ = NULL;
	GtkStack* _tmp26_ = NULL;
	GtkWidget* _tmp27_ = NULL;
	GtkWidget* _tmp28_ = NULL;
	SimpleTab* _tmp29_ = NULL;
	SimpleTab* _tmp30_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->opened_files;
	_tmp1_ = page_num;
	_tmp2_ = g_list_nth_data (_tmp0_, (guint) _tmp1_);
	_tmp3_ = g_strdup ((const gchar*) _tmp2_);
	f_name = _tmp3_;
	_tmp4_ = self->priv->status;
	_tmp5_ = f_name;
	simple_statusbar_refresh_statusbar (_tmp4_, FILE_OPEARTION_CLOSE_FILE, _tmp5_);
	_tmp6_ = f_name;
	_tmp7_ = self->priv->untitled;
	_tmp8_ = string_contains (_tmp6_, _tmp7_);
	if (!_tmp8_) {
		GArray* _tmp9_ = NULL;
		const gchar* _tmp10_ = NULL;
		gchar* _tmp11_ = NULL;
		_tmp9_ = self->priv->closed_files;
		_tmp10_ = f_name;
		_tmp11_ = g_strdup (_tmp10_);
		g_array_append_val (_tmp9_, _tmp11_);
	}
	_tmp12_ = self->priv->opened_files;
	_tmp13_ = page_num;
	_tmp14_ = g_list_nth_data (_tmp12_, (guint) _tmp13_);
	self->priv->opened_files = g_list_remove (self->priv->opened_files, (const gchar*) _tmp14_);
	_tmp15_ = self->priv->status;
	_tmp16_ = self->priv->opened_files;
	_tmp17_ = page_num;
	_tmp18_ = g_list_nth_data (_tmp16_, (guint) _tmp17_);
	simple_statusbar_refresh_language (_tmp15_, (const gchar*) _tmp18_);
	_tmp19_ = self->priv->tab_bar;
	_tmp20_ = tab;
	simple_tab_bar_switch_page_next (_tmp19_, _tmp20_);
	_tmp21_ = tab;
	_tmp22_ = simple_tab_get_tab_widget (_tmp21_);
	_tmp23_ = _tmp22_;
	gtk_widget_destroy ((GtkWidget*) _tmp23_);
	_tmp24_ = tab;
	gtk_widget_destroy ((GtkWidget*) _tmp24_);
	main_window_check_pages (self);
	_tmp25_ = self->priv->tab_bar;
	_tmp26_ = self->priv->documents;
	_tmp27_ = gtk_stack_get_visible_child (_tmp26_);
	_tmp28_ = _tmp27_;
	_tmp29_ = simple_tab_bar_get_current_page (_tmp25_, _tmp28_);
	_tmp30_ = _tmp29_;
	simple_tab_mark_title (_tmp30_);
	_g_object_unref0 (_tmp30_);
	_g_free0 (f_name);
}


static void main_window_search_stuff_next (MainWindow* self) {
	FILE* _tmp0_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = stdout;
	fprintf (_tmp0_, "Next\n");
}


static void main_window_search_stuff_prev (MainWindow* self) {
	FILE* _tmp0_ = NULL;
	g_return_if_fail (self != NULL);
	_tmp0_ = stdout;
	fprintf (_tmp0_, "Previous\n");
}


static void main_window_check_pages (MainWindow* self) {
	GList* _tmp0_ = NULL;
	guint _tmp1_ = 0U;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->opened_files;
	_tmp1_ = g_list_length (_tmp0_);
	if (_tmp1_ < ((guint) 2)) {
		SimpleTabBar* _tmp2_ = NULL;
		GList* _tmp3_ = NULL;
		guint _tmp4_ = 0U;
		_tmp2_ = self->priv->tab_bar;
		gtk_widget_hide ((GtkWidget*) _tmp2_);
		_tmp3_ = self->priv->opened_files;
		_tmp4_ = g_list_length (_tmp3_);
		if (_tmp4_ == ((guint) 0)) {
			SimpleHeaderBar* _tmp5_ = NULL;
			_tmp5_ = self->priv->headerbar;
			gtk_header_bar_set_title ((GtkHeaderBar*) _tmp5_, "Simple Text");
		}
	} else {
		SimpleTabBar* _tmp6_ = NULL;
		_tmp6_ = self->priv->tab_bar;
		gtk_widget_show ((GtkWidget*) _tmp6_);
	}
}


static gboolean main_window_changes_done (MainWindow* self, GdkEventKey* event) {
	gboolean result = FALSE;
	GtkScrolledWindow* page = NULL;
	GtkStack* _tmp0_ = NULL;
	GtkWidget* _tmp1_ = NULL;
	GtkWidget* _tmp2_ = NULL;
	GtkScrolledWindow* _tmp3_ = NULL;
	GtkSourceView* view = NULL;
	GtkScrolledWindow* _tmp4_ = NULL;
	GtkWidget* _tmp5_ = NULL;
	GtkSourceView* _tmp6_ = NULL;
	GtkSourceView* _tmp7_ = NULL;
	GtkTextBuffer* _tmp8_ = NULL;
	GtkTextBuffer* _tmp9_ = NULL;
	gboolean _tmp10_ = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	g_return_val_if_fail (event != NULL, FALSE);
	_tmp0_ = self->priv->documents;
	_tmp1_ = gtk_stack_get_visible_child (_tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, gtk_scrolled_window_get_type ()) ? ((GtkScrolledWindow*) _tmp2_) : NULL);
	page = _tmp3_;
	_tmp4_ = page;
	_tmp5_ = gtk_bin_get_child ((GtkBin*) _tmp4_);
	_tmp6_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, gtk_source_view_get_type ()) ? ((GtkSourceView*) _tmp5_) : NULL);
	view = _tmp6_;
	_tmp7_ = view;
	_tmp8_ = gtk_text_view_get_buffer ((GtkTextView*) _tmp7_);
	_tmp9_ = _tmp8_;
	_tmp10_ = gtk_text_buffer_get_modified (_tmp9_);
	if (_tmp10_) {
		SimpleTab* tab_label = NULL;
		SimpleTabBar* _tmp11_ = NULL;
		GtkScrolledWindow* _tmp12_ = NULL;
		SimpleTab* _tmp13_ = NULL;
		SimpleTab* _tmp14_ = NULL;
		const gchar* _tmp15_ = NULL;
		const gchar* _tmp16_ = NULL;
		gboolean _tmp17_ = FALSE;
		SimpleStatusbar* _tmp25_ = NULL;
		_tmp11_ = self->priv->tab_bar;
		_tmp12_ = page;
		_tmp13_ = simple_tab_bar_get_current_page (_tmp11_, (GtkWidget*) _tmp12_);
		tab_label = _tmp13_;
		_tmp14_ = tab_label;
		_tmp15_ = simple_tab_get_tab_title (_tmp14_);
		_tmp16_ = _tmp15_;
		_tmp17_ = string_contains (_tmp16_, "*");
		if (!_tmp17_) {
			SimpleTab* _tmp18_ = NULL;
			SimpleTab* _tmp19_ = NULL;
			const gchar* _tmp20_ = NULL;
			const gchar* _tmp21_ = NULL;
			gchar* _tmp22_ = NULL;
			gchar* _tmp23_ = NULL;
			SimpleTab* _tmp24_ = NULL;
			_tmp18_ = tab_label;
			_tmp19_ = tab_label;
			_tmp20_ = simple_tab_get_tab_title (_tmp19_);
			_tmp21_ = _tmp20_;
			_tmp22_ = g_strconcat ("*", _tmp21_, NULL);
			_tmp23_ = _tmp22_;
			simple_tab_set_tab_title (_tmp18_, _tmp23_);
			_g_free0 (_tmp23_);
			_tmp24_ = tab_label;
			simple_tab_mark_title (_tmp24_);
		}
		_tmp25_ = self->priv->status;
		simple_statusbar_refresh_statusbar (_tmp25_, FILE_OPEARTION_EDIT_FILE, NULL);
		result = FALSE;
		_g_object_unref0 (tab_label);
		_g_object_unref0 (view);
		_g_object_unref0 (page);
		return result;
	}
	result = TRUE;
	_g_object_unref0 (view);
	_g_object_unref0 (page);
	return result;
}


static gchar* string_replace (const gchar* self, const gchar* old, const gchar* replacement) {
	gchar* result = NULL;
	GError * _inner_error_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_return_val_if_fail (old != NULL, NULL);
	g_return_val_if_fail (replacement != NULL, NULL);
	{
		GRegex* regex = NULL;
		const gchar* _tmp0_ = NULL;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_ = NULL;
		GRegex* _tmp3_ = NULL;
		GRegex* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		GRegex* _tmp6_ = NULL;
		const gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
		_tmp0_ = old;
		_tmp1_ = g_regex_escape_string (_tmp0_, -1);
		_tmp2_ = _tmp1_;
		_tmp3_ = g_regex_new (_tmp2_, 0, 0, &_inner_error_);
		_tmp4_ = _tmp3_;
		_g_free0 (_tmp2_);
		regex = _tmp4_;
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			if (_inner_error_->domain == G_REGEX_ERROR) {
				goto __catch3_g_regex_error;
			}
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return NULL;
		}
		_tmp6_ = regex;
		_tmp7_ = replacement;
		_tmp8_ = g_regex_replace_literal (_tmp6_, self, (gssize) (-1), 0, _tmp7_, 0, &_inner_error_);
		_tmp5_ = _tmp8_;
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			_g_regex_unref0 (regex);
			if (_inner_error_->domain == G_REGEX_ERROR) {
				goto __catch3_g_regex_error;
			}
			_g_regex_unref0 (regex);
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
			g_clear_error (&_inner_error_);
			return NULL;
		}
		_tmp9_ = _tmp5_;
		_tmp5_ = NULL;
		result = _tmp9_;
		_g_free0 (_tmp5_);
		_g_regex_unref0 (regex);
		return result;
	}
	goto __finally3;
	__catch3_g_regex_error:
	{
		GError* e = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		g_assert_not_reached ();
		_g_error_free0 (e);
	}
	__finally3:
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return NULL;
	}
}


static void main_window_reset_changes (MainWindow* self, SimpleTab* tab_label) {
	SimpleTab* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	gboolean _tmp3_ = FALSE;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab_label != NULL);
	_tmp0_ = tab_label;
	_tmp1_ = simple_tab_get_tab_title (_tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = string_contains (_tmp2_, "*");
	if (_tmp3_) {
		SimpleTab* _tmp4_ = NULL;
		SimpleTab* _tmp5_ = NULL;
		const gchar* _tmp6_ = NULL;
		const gchar* _tmp7_ = NULL;
		gchar* _tmp8_ = NULL;
		gchar* _tmp9_ = NULL;
		SimpleTab* _tmp10_ = NULL;
		_tmp4_ = tab_label;
		_tmp5_ = tab_label;
		_tmp6_ = simple_tab_get_tab_title (_tmp5_);
		_tmp7_ = _tmp6_;
		_tmp8_ = string_replace (_tmp7_, "*", "");
		_tmp9_ = _tmp8_;
		simple_tab_set_tab_title (_tmp4_, _tmp9_);
		_g_free0 (_tmp9_);
		_tmp10_ = tab_label;
		simple_tab_mark_title (_tmp10_);
	}
}


static gboolean _main_window_changes_done_gtk_widget_key_release_event (GtkWidget* _sender, GdkEventKey* event, gpointer self) {
	gboolean result;
	result = main_window_changes_done ((MainWindow*) self, event);
	return result;
}


static void main_window_add_new_tab (MainWindow* self, SimpleTab* tab_label) {
	gchar* tab_title = NULL;
	gint _tmp0_ = 0;
	gchar* _tmp1_ = NULL;
	GtkStack* _tmp2_ = NULL;
	SimpleTab* _tmp3_ = NULL;
	GtkScrolledWindow* _tmp4_ = NULL;
	GtkScrolledWindow* _tmp5_ = NULL;
	SimpleTab* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	SimpleTabBar* _tmp9_ = NULL;
	SimpleTab* _tmp10_ = NULL;
	GtkSourceView* view = NULL;
	SimpleTab* _tmp11_ = NULL;
	GtkScrolledWindow* _tmp12_ = NULL;
	GtkScrolledWindow* _tmp13_ = NULL;
	GtkWidget* _tmp14_ = NULL;
	GtkSourceView* _tmp15_ = NULL;
	SimpleTab* current_page = NULL;
	SimpleTabBar* _tmp16_ = NULL;
	GtkStack* _tmp17_ = NULL;
	GtkWidget* _tmp18_ = NULL;
	GtkWidget* _tmp19_ = NULL;
	SimpleTab* _tmp20_ = NULL;
	gint page_num = 0;
	SimpleTabBar* _tmp21_ = NULL;
	gint _tmp22_ = 0;
	gchar* file_name = NULL;
	GList* _tmp23_ = NULL;
	gconstpointer _tmp24_ = NULL;
	gchar* _tmp25_ = NULL;
	SimpleHeaderBar* _tmp26_ = NULL;
	ProgrammingLanguages* p_langs = NULL;
	ProgrammingLanguages* _tmp27_ = NULL;
	SimpleHeaderBar* _tmp28_ = NULL;
	const gchar* _tmp29_ = NULL;
	const gchar* _tmp30_ = NULL;
	gboolean _tmp31_ = FALSE;
	g_return_if_fail (self != NULL);
	g_return_if_fail (tab_label != NULL);
	_tmp0_ = self->priv->counter;
	self->priv->counter = _tmp0_ + 1;
	_tmp1_ = g_strdup_printf ("tab - %d", _tmp0_);
	tab_title = _tmp1_;
	_tmp2_ = self->priv->documents;
	_tmp3_ = tab_label;
	_tmp4_ = simple_tab_get_tab_widget (_tmp3_);
	_tmp5_ = _tmp4_;
	_tmp6_ = tab_label;
	_tmp7_ = simple_tab_get_tab_title (_tmp6_);
	_tmp8_ = _tmp7_;
	gtk_stack_add_titled (_tmp2_, (GtkWidget*) _tmp5_, tab_title, _tmp8_);
	_tmp9_ = self->priv->tab_bar;
	_tmp10_ = tab_label;
	simple_tab_bar_add_page (_tmp9_, _tmp10_, TRUE);
	_tmp11_ = tab_label;
	_tmp12_ = simple_tab_get_tab_widget (_tmp11_);
	_tmp13_ = _tmp12_;
	_tmp14_ = gtk_bin_get_child ((GtkBin*) (G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, gtk_scrolled_window_get_type ()) ? ((GtkScrolledWindow*) _tmp13_) : NULL));
	_tmp15_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp14_, gtk_source_view_get_type ()) ? ((GtkSourceView*) _tmp14_) : NULL);
	view = _tmp15_;
	g_signal_connect_object ((GtkWidget*) view, "key-release-event", (GCallback) _main_window_changes_done_gtk_widget_key_release_event, self, 0);
	_tmp16_ = self->priv->tab_bar;
	_tmp17_ = self->priv->documents;
	_tmp18_ = gtk_stack_get_visible_child (_tmp17_);
	_tmp19_ = _tmp18_;
	_tmp20_ = simple_tab_bar_get_current_page (_tmp16_, _tmp19_);
	current_page = _tmp20_;
	_tmp21_ = self->priv->tab_bar;
	_tmp22_ = simple_tab_bar_get_page_num (_tmp21_, current_page);
	page_num = _tmp22_;
	_tmp23_ = self->priv->opened_files;
	_tmp24_ = g_list_nth_data (_tmp23_, (guint) page_num);
	_tmp25_ = g_strdup ((const gchar*) _tmp24_);
	file_name = _tmp25_;
	_tmp26_ = self->priv->headerbar;
	gtk_header_bar_set_title ((GtkHeaderBar*) _tmp26_, file_name);
	_tmp27_ = programming_languages_new ();
	p_langs = _tmp27_;
	_tmp28_ = self->priv->headerbar;
	_tmp29_ = simple_tab_get_tab_title (current_page);
	_tmp30_ = _tmp29_;
	_tmp31_ = programming_languages_is_buildable (p_langs, _tmp30_);
	simple_header_bar_set_buildable (_tmp28_, _tmp31_);
	main_window_check_pages (self);
	_programming_languages_unref0 (p_langs);
	_g_free0 (file_name);
	_g_object_unref0 (current_page);
	_g_object_unref0 (view);
	_g_free0 (tab_title);
}


static void main_window_save_file (MainWindow* self, GtkSourceView* view, const gchar* filename) {
	GError * _inner_error_ = NULL;
	g_return_if_fail (self != NULL);
	g_return_if_fail (view != NULL);
	g_return_if_fail (filename != NULL);
	{
		const gchar* _tmp0_ = NULL;
		GtkSourceView* _tmp1_ = NULL;
		GtkTextBuffer* _tmp2_ = NULL;
		GtkTextBuffer* _tmp3_ = NULL;
		gchar* _tmp4_ = NULL;
		gchar* _tmp5_ = NULL;
		gchar* _tmp6_ = NULL;
		GtkSourceView* _tmp7_ = NULL;
		GtkTextBuffer* _tmp8_ = NULL;
		GtkTextBuffer* _tmp9_ = NULL;
		SimpleStatusbar* _tmp10_ = NULL;
		const gchar* _tmp11_ = NULL;
		SimpleStatusbar* _tmp12_ = NULL;
		const gchar* _tmp13_ = NULL;
		_tmp0_ = filename;
		_tmp1_ = view;
		_tmp2_ = gtk_text_view_get_buffer ((GtkTextView*) _tmp1_);
		_tmp3_ = _tmp2_;
		g_object_get (_tmp3_, "text", &_tmp4_, NULL);
		_tmp5_ = _tmp4_;
		_tmp6_ = _tmp5_;
		g_file_set_contents (_tmp0_, _tmp6_, (gssize) (-1), &_inner_error_);
		_g_free0 (_tmp6_);
		if (G_UNLIKELY (_inner_error_ != NULL)) {
			goto __catch4_g_error;
		}
		_tmp7_ = view;
		_tmp8_ = gtk_text_view_get_buffer ((GtkTextView*) _tmp7_);
		_tmp9_ = _tmp8_;
		gtk_text_buffer_set_modified (_tmp9_, FALSE);
		_tmp10_ = self->priv->status;
		_tmp11_ = filename;
		simple_statusbar_refresh_statusbar (_tmp10_, FILE_OPEARTION_SAVE_FILE, _tmp11_);
		_tmp12_ = self->priv->status;
		_tmp13_ = filename;
		simple_statusbar_refresh_language (_tmp12_, _tmp13_);
	}
	goto __finally4;
	__catch4_g_error:
	{
		GError* e = NULL;
		FILE* _tmp14_ = NULL;
		GError* _tmp15_ = NULL;
		const gchar* _tmp16_ = NULL;
		e = _inner_error_;
		_inner_error_ = NULL;
		_tmp14_ = stderr;
		_tmp15_ = e;
		_tmp16_ = _tmp15_->message;
		fprintf (_tmp14_, "Error: %s\n", _tmp16_);
		_g_error_free0 (e);
	}
	__finally4:
	if (G_UNLIKELY (_inner_error_ != NULL)) {
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
		g_clear_error (&_inner_error_);
		return;
	}
}


static void main_window_next_tab_cb (MainWindow* self) {
	SimpleTab* current_page = NULL;
	SimpleTabBar* _tmp0_ = NULL;
	GtkStack* _tmp1_ = NULL;
	GtkWidget* _tmp2_ = NULL;
	GtkWidget* _tmp3_ = NULL;
	SimpleTab* _tmp4_ = NULL;
	SimpleTabBar* _tmp5_ = NULL;
	SimpleTab* _tmp6_ = NULL;
	SimpleTabBar* _tmp7_ = NULL;
	GtkStack* _tmp8_ = NULL;
	GtkWidget* _tmp9_ = NULL;
	GtkWidget* _tmp10_ = NULL;
	SimpleTab* _tmp11_ = NULL;
	ProgrammingLanguages* p_langs = NULL;
	ProgrammingLanguages* _tmp12_ = NULL;
	SimpleHeaderBar* _tmp13_ = NULL;
	SimpleTab* _tmp14_ = NULL;
	const gchar* _tmp15_ = NULL;
	const gchar* _tmp16_ = NULL;
	gboolean _tmp17_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->tab_bar;
	_tmp1_ = self->priv->documents;
	_tmp2_ = gtk_stack_get_visible_child (_tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = simple_tab_bar_get_current_page (_tmp0_, _tmp3_);
	current_page = _tmp4_;
	_tmp5_ = self->priv->tab_bar;
	_tmp6_ = current_page;
	simple_tab_bar_switch_page_next (_tmp5_, _tmp6_);
	_tmp7_ = self->priv->tab_bar;
	_tmp8_ = self->priv->documents;
	_tmp9_ = gtk_stack_get_visible_child (_tmp8_);
	_tmp10_ = _tmp9_;
	_tmp11_ = simple_tab_bar_get_current_page (_tmp7_, _tmp10_);
	_g_object_unref0 (current_page);
	current_page = _tmp11_;
	_tmp12_ = programming_languages_new ();
	p_langs = _tmp12_;
	_tmp13_ = self->priv->headerbar;
	_tmp14_ = current_page;
	_tmp15_ = simple_tab_get_tab_title (_tmp14_);
	_tmp16_ = _tmp15_;
	_tmp17_ = programming_languages_is_buildable (p_langs, _tmp16_);
	simple_header_bar_set_buildable (_tmp13_, _tmp17_);
	_programming_languages_unref0 (p_langs);
	_g_object_unref0 (current_page);
}


static void main_window_prev_tab_cb (MainWindow* self) {
	SimpleTab* current_page = NULL;
	SimpleTabBar* _tmp0_ = NULL;
	GtkStack* _tmp1_ = NULL;
	GtkWidget* _tmp2_ = NULL;
	GtkWidget* _tmp3_ = NULL;
	SimpleTab* _tmp4_ = NULL;
	SimpleTabBar* _tmp5_ = NULL;
	SimpleTab* _tmp6_ = NULL;
	SimpleTabBar* _tmp7_ = NULL;
	GtkStack* _tmp8_ = NULL;
	GtkWidget* _tmp9_ = NULL;
	GtkWidget* _tmp10_ = NULL;
	SimpleTab* _tmp11_ = NULL;
	ProgrammingLanguages* p_langs = NULL;
	ProgrammingLanguages* _tmp12_ = NULL;
	SimpleHeaderBar* _tmp13_ = NULL;
	SimpleTab* _tmp14_ = NULL;
	const gchar* _tmp15_ = NULL;
	const gchar* _tmp16_ = NULL;
	gboolean _tmp17_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = self->priv->tab_bar;
	_tmp1_ = self->priv->documents;
	_tmp2_ = gtk_stack_get_visible_child (_tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = simple_tab_bar_get_current_page (_tmp0_, _tmp3_);
	current_page = _tmp4_;
	_tmp5_ = self->priv->tab_bar;
	_tmp6_ = current_page;
	simple_tab_bar_switch_page_prev (_tmp5_, _tmp6_);
	_tmp7_ = self->priv->tab_bar;
	_tmp8_ = self->priv->documents;
	_tmp9_ = gtk_stack_get_visible_child (_tmp8_);
	_tmp10_ = _tmp9_;
	_tmp11_ = simple_tab_bar_get_current_page (_tmp7_, _tmp10_);
	_g_object_unref0 (current_page);
	current_page = _tmp11_;
	_tmp12_ = programming_languages_new ();
	p_langs = _tmp12_;
	_tmp13_ = self->priv->headerbar;
	_tmp14_ = current_page;
	_tmp15_ = simple_tab_get_tab_title (_tmp14_);
	_tmp16_ = _tmp15_;
	_tmp17_ = programming_languages_is_buildable (p_langs, _tmp16_);
	simple_header_bar_set_buildable (_tmp13_, _tmp17_);
	_programming_languages_unref0 (p_langs);
	_g_object_unref0 (current_page);
}


static gboolean main_window_confirm_close (MainWindow* self, SimpleTab* tab) {
	gboolean result = FALSE;
	SimpleTab* _tmp0_ = NULL;
	SimpleTab* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	const gchar* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	g_return_val_if_fail (self != NULL, FALSE);
	_tmp0_ = tab;
	if (_tmp0_ == NULL) {
		result = FALSE;
		return result;
	}
	_tmp1_ = tab;
	_tmp2_ = simple_tab_get_tab_title (_tmp1_);
	_tmp3_ = _tmp2_;
	_tmp4_ = string_contains (_tmp3_, "*");
	if (_tmp4_) {
		SimpleTabBar* _tmp5_ = NULL;
		SimpleTab* _tmp6_ = NULL;
		ConfirmExit* confirmar = NULL;
		ConfirmExit* _tmp7_ = NULL;
		ConfirmExit* _tmp8_ = NULL;
		ConfirmExit* _tmp9_ = NULL;
		gint _tmp10_ = 0;
		ConfirmExit* _tmp12_ = NULL;
		_tmp5_ = self->priv->tab_bar;
		_tmp6_ = tab;
		simple_tab_bar_switch_page (_tmp5_, _tmp6_);
		_tmp7_ = confirm_exit_new ();
		g_object_ref_sink (_tmp7_);
		confirmar = _tmp7_;
		_tmp8_ = confirmar;
		gtk_window_set_transient_for ((GtkWindow*) _tmp8_, (GtkWindow*) self);
		_tmp9_ = confirmar;
		_tmp10_ = gtk_dialog_run ((GtkDialog*) _tmp9_);
		switch (_tmp10_) {
			default:
			case GTK_RESPONSE_CANCEL:
			{
				ConfirmExit* _tmp11_ = NULL;
				_tmp11_ = confirmar;
				gtk_widget_destroy ((GtkWidget*) _tmp11_);
				result = FALSE;
				_g_object_unref0 (confirmar);
				return result;
			}
			case GTK_RESPONSE_ACCEPT:
			{
				break;
			}
			case GTK_RESPONSE_APPLY:
			{
				main_window_save_tab_to_file (self);
				break;
			}
		}
		_tmp12_ = confirmar;
		gtk_widget_destroy ((GtkWidget*) _tmp12_);
		_g_object_unref0 (confirmar);
	}
	result = TRUE;
	return result;
}


static void main_window_quit_cb (MainWindow* self) {
	g_return_if_fail (self != NULL);
	main_window_save_workspace (self);
	while (TRUE) {
		GList* _tmp0_ = NULL;
		guint _tmp1_ = 0U;
		_tmp0_ = self->priv->opened_files;
		_tmp1_ = g_list_length (_tmp0_);
		if (!(_tmp1_ != ((guint) 0))) {
			break;
		}
		main_window_close_tab_cb (self);
	}
	gtk_widget_destroy ((GtkWidget*) self);
}


TextEditor* main_window_get_editor (MainWindow* self) {
	TextEditor* result;
	TextEditor* _tmp0_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_editor;
	result = _tmp0_;
	return result;
}


static GFile** _vala_array_dup1 (GFile** self, int length) {
	GFile** result;
	int i;
	result = g_new0 (GFile*, length + 1);
	for (i = 0; i < length; i++) {
		GFile* _tmp0_ = NULL;
		_tmp0_ = _g_object_ref0 (self[i]);
		result[i] = _tmp0_;
	}
	return result;
}


void main_window_set_arg_files (MainWindow* self, GFile** value, int value_length1) {
	GFile** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	GFile** _tmp1_ = NULL;
	gint _tmp1__length1 = 0;
	GFile** _tmp2_ = NULL;
	gint _tmp2__length1 = 0;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	_tmp0__length1 = value_length1;
	_tmp1_ = (_tmp0_ != NULL) ? _vala_array_dup1 (_tmp0_, _tmp0__length1) : ((gpointer) _tmp0_);
	_tmp1__length1 = _tmp0__length1;
	self->priv->_arg_files = (_vala_array_free (self->priv->_arg_files, self->priv->_arg_files_length1, (GDestroyNotify) g_object_unref), NULL);
	self->priv->_arg_files = _tmp1_;
	self->priv->_arg_files_length1 = _tmp1__length1;
	self->priv->__arg_files_size_ = self->priv->_arg_files_length1;
	main_window_load_workspace (self);
	_tmp2_ = self->priv->_arg_files;
	_tmp2__length1 = self->priv->_arg_files_length1;
	if (_tmp2_ != NULL) {
		GFile** _tmp3_ = NULL;
		gint _tmp3__length1 = 0;
		_tmp3_ = self->priv->_arg_files;
		_tmp3__length1 = self->priv->_arg_files_length1;
		{
			GFile** file_collection = NULL;
			gint file_collection_length1 = 0;
			gint _file_collection_size_ = 0;
			gint file_it = 0;
			file_collection = _tmp3_;
			file_collection_length1 = _tmp3__length1;
			for (file_it = 0; file_it < _tmp3__length1; file_it = file_it + 1) {
				GFile* _tmp4_ = NULL;
				GFile* file = NULL;
				_tmp4_ = _g_object_ref0 (file_collection[file_it]);
				file = _tmp4_;
				{
					GFile* _tmp5_ = NULL;
					gchar* _tmp6_ = NULL;
					gchar* _tmp7_ = NULL;
					_tmp5_ = file;
					_tmp6_ = g_file_get_path (_tmp5_);
					_tmp7_ = _tmp6_;
					main_window_add_new_tab_from_file (self, _tmp7_);
					_g_free0 (_tmp7_);
					_g_object_unref0 (file);
				}
			}
		}
	}
}


static void main_window_class_init (MainWindowClass * klass) {
	main_window_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (MainWindowPrivate));
	G_OBJECT_CLASS (klass)->get_property = _vala_main_window_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_main_window_set_property;
	G_OBJECT_CLASS (klass)->finalize = main_window_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), MAIN_WINDOW_EDITOR, g_param_spec_object ("editor", "editor", "editor", TYPE_TEXT_EDITOR, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
}


static void main_window_instance_init (MainWindow * self) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	self->priv = MAIN_WINDOW_GET_PRIVATE (self);
	_tmp0_ = _ ("Untitled file");
	_tmp1_ = g_strdup (_tmp0_);
	self->priv->untitled = _tmp1_;
	self->priv->counter = 0;
	self->priv->_arg_files = NULL;
	self->priv->_arg_files_length1 = 0;
	self->priv->__arg_files_size_ = self->priv->_arg_files_length1;
}


static void main_window_finalize (GObject* obj) {
	MainWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_MAIN_WINDOW, MainWindow);
	_g_object_unref0 (self->priv->_editor);
	_g_free0 (self->priv->untitled);
	_g_array_unref0 (self->priv->closed_files);
	__g_list_free__g_free0_0 (self->priv->opened_files);
	_g_object_unref0 (self->priv->headerbar);
	_g_object_unref0 (self->priv->status);
	_g_object_unref0 (self->priv->terminal);
	_g_object_unref0 (self->priv->tab_bar);
	_g_object_unref0 (self->priv->documents);
	_g_object_unref0 (self->priv->search_entry);
	_g_object_unref0 (self->priv->search_bar);
	_g_object_unref0 (self->priv->previous_search);
	_g_object_unref0 (self->priv->next_search);
	self->priv->_arg_files = (_vala_array_free (self->priv->_arg_files, self->priv->_arg_files_length1, (GDestroyNotify) g_object_unref), NULL);
	G_OBJECT_CLASS (main_window_parent_class)->finalize (obj);
}


GType main_window_get_type (void) {
	static volatile gsize main_window_type_id__volatile = 0;
	if (g_once_init_enter (&main_window_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (MainWindowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) main_window_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MainWindow), 0, (GInstanceInitFunc) main_window_instance_init, NULL };
		GType main_window_type_id;
		main_window_type_id = g_type_register_static (gtk_application_window_get_type (), "MainWindow", &g_define_type_info, 0);
		g_once_init_leave (&main_window_type_id__volatile, main_window_type_id);
	}
	return main_window_type_id__volatile;
}


static void _vala_main_window_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	MainWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TYPE_MAIN_WINDOW, MainWindow);
	switch (property_id) {
		case MAIN_WINDOW_EDITOR:
		g_value_set_object (value, main_window_get_editor (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_main_window_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	MainWindow * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TYPE_MAIN_WINDOW, MainWindow);
	switch (property_id) {
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint _vala_array_length (gpointer array) {
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



